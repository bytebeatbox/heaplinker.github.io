<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-W5TJ6Q8');</script>
    <!-- End Google Tag Manager -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>হিটম্যাপ ও এনোটেশন এর সাহায্যে ম্যাটপ্লটলিবে কিভাবে কাস্টম কনফিউশন ম্যাট্রিক্স তৈরি করতে হয় | Heaplinker</title>



    <link type="application/atom+xml" rel="alternate" href="https://blog.heaplinker.com/feed.xml" title="Heaplinker" />
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>হিটম্যাপ ও এনোটেশন এর সাহায্যে ম্যাটপ্লটলিবে কিভাবে কাস্টম কনফিউশন ম্যাট্রিক্স তৈরি করতে হয় | Heaplinker</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="হিটম্যাপ ও এনোটেশন এর সাহায্যে ম্যাটপ্লটলিবে কিভাবে কাস্টম কনফিউশন ম্যাট্রিক্স তৈরি করতে হয়" />
<meta name="author" content="rafsun" />
<meta property="og:locale" content="bn" />
<meta name="description" content="কনফিউশন ম্যাট্রিক্স, error matrix বা matching matrix1 হিসাবেও পরিচিত। এই ম্যাট্রিক্সের প্রতিটি সারি এবং প্রতিটি কলাম যথাক্রমে actual class এবং predicted class। এই পোস্টে আমি আলোচনা করেছি যে, কীভাবে আমরা পাইথনে matplotlib দিয়ে multi-class classification এর জন্য কাস্টম কনফিউশন ম্যাট্রিক্স তৈরি করতে পারি। নিচের জিনিস গুলো নিয়ে বিস্তারিত থাকছে পরবর্তী চ্যাপ্টার গুলোতে: কাস্টম কনফিউশন ম্যাট্রিক্সের বৈশিষ্ট্য র‍্যান্ডম ডেটা তৈরি matplotlib কনফিগার করা confusion_matrix তৈরি করা কিছু প্রয়োজনীয় হিসাব Annotation তৈরি করা কাস্টমাইজড কনফিউশন ম্যাট্রিক্স তৈরি করা DataFrame তৈরি করা হিটম্যাপ দেখানো ফলাফল মূল্যায়ন করা" />
<meta property="og:description" content="কনফিউশন ম্যাট্রিক্স, error matrix বা matching matrix1 হিসাবেও পরিচিত। এই ম্যাট্রিক্সের প্রতিটি সারি এবং প্রতিটি কলাম যথাক্রমে actual class এবং predicted class। এই পোস্টে আমি আলোচনা করেছি যে, কীভাবে আমরা পাইথনে matplotlib দিয়ে multi-class classification এর জন্য কাস্টম কনফিউশন ম্যাট্রিক্স তৈরি করতে পারি। নিচের জিনিস গুলো নিয়ে বিস্তারিত থাকছে পরবর্তী চ্যাপ্টার গুলোতে: কাস্টম কনফিউশন ম্যাট্রিক্সের বৈশিষ্ট্য র‍্যান্ডম ডেটা তৈরি matplotlib কনফিগার করা confusion_matrix তৈরি করা কিছু প্রয়োজনীয় হিসাব Annotation তৈরি করা কাস্টমাইজড কনফিউশন ম্যাট্রিক্স তৈরি করা DataFrame তৈরি করা হিটম্যাপ দেখানো ফলাফল মূল্যায়ন করা" />
<link rel="canonical" href="https://blog.heaplinker.com/How-to-make-a-custom-confusion-matrix-on-matplotlib-with-heatmap-and-annotation-2021070218326405004/" />
<meta property="og:url" content="https://blog.heaplinker.com/How-to-make-a-custom-confusion-matrix-on-matplotlib-with-heatmap-and-annotation-2021070218326405004/" />
<meta property="og:site_name" content="Heaplinker" />
<meta property="og:image" content="https://blog.heaplinker.com/assets/images/2021-07-01-How-to-make-a-custom-confusion-matrix-on-matplotlib-with-heatmap-and-annotation/1.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-07-02T04:50:40+06:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://blog.heaplinker.com/assets/images/2021-07-01-How-to-make-a-custom-confusion-matrix-on-matplotlib-with-heatmap-and-annotation/1.png" />
<meta property="twitter:title" content="হিটম্যাপ ও এনোটেশন এর সাহায্যে ম্যাটপ্লটলিবে কিভাবে কাস্টম কনফিউশন ম্যাট্রিক্স তৈরি করতে হয়" />
<script type="application/ld+json">
{"@type":"BlogPosting","url":"https://blog.heaplinker.com/How-to-make-a-custom-confusion-matrix-on-matplotlib-with-heatmap-and-annotation-2021070218326405004/","headline":"হিটম্যাপ ও এনোটেশন এর সাহায্যে ম্যাটপ্লটলিবে কিভাবে কাস্টম কনফিউশন ম্যাট্রিক্স তৈরি করতে হয়","dateModified":"2021-07-02T04:50:40+06:00","datePublished":"2021-07-02T04:50:40+06:00","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://blog.heaplinker.com/assets/images/official_logo_black.png"},"name":"rafsun"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.heaplinker.com/How-to-make-a-custom-confusion-matrix-on-matplotlib-with-heatmap-and-annotation-2021070218326405004/"},"image":"https://blog.heaplinker.com/assets/images/2021-07-01-How-to-make-a-custom-confusion-matrix-on-matplotlib-with-heatmap-and-annotation/1.png","author":{"@type":"Person","name":"rafsun"},"description":"কনফিউশন ম্যাট্রিক্স, error matrix বা matching matrix1 হিসাবেও পরিচিত। এই ম্যাট্রিক্সের প্রতিটি সারি এবং প্রতিটি কলাম যথাক্রমে actual class এবং predicted class। এই পোস্টে আমি আলোচনা করেছি যে, কীভাবে আমরা পাইথনে matplotlib দিয়ে multi-class classification এর জন্য কাস্টম কনফিউশন ম্যাট্রিক্স তৈরি করতে পারি। নিচের জিনিস গুলো নিয়ে বিস্তারিত থাকছে পরবর্তী চ্যাপ্টার গুলোতে: কাস্টম কনফিউশন ম্যাট্রিক্সের বৈশিষ্ট্য র‍্যান্ডম ডেটা তৈরি matplotlib কনফিগার করা confusion_matrix তৈরি করা কিছু প্রয়োজনীয় হিসাব Annotation তৈরি করা কাস্টমাইজড কনফিউশন ম্যাট্রিক্স তৈরি করা DataFrame তৈরি করা হিটম্যাপ দেখানো ফলাফল মূল্যায়ন করা","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    
    
    <meta property="og:image" content="assets/images/2021-07-01-How-to-make-a-custom-confusion-matrix-on-matplotlib-with-heatmap-and-annotation/1.png">
    <meta name="twitter:image:src" content="assets/images/2021-07-01-How-to-make-a-custom-confusion-matrix-on-matplotlib-with-heatmap-and-annotation/1.png">
    <!-- <meta name="twitter:description" content="<p>কনফিউশন ম্যাট্রিক্স, <strong>error matrix</strong> বা <strong>matching matrix</strong><sup><a href="https://en.wikipedia.org/wiki/Confusion_matrix">1</a></sup> হিসাবেও পরিচিত। এই ম্যাট্রিক্সের প্রতিটি সারি এবং প্রতিটি কলাম যথাক্রমে actual class এবং predicted class। এই পোস্টে আমি আলোচনা করেছি যে, কীভাবে আমরা পাইথনে <code class="language-plaintext highlighter-rouge">matplotlib</code> দিয়ে multi-class classification এর জন্য কাস্টম কনফিউশন ম্যাট্রিক্স তৈরি করতে পারি। নিচের জিনিস গুলো নিয়ে বিস্তারিত থাকছে পরবর্তী চ্যাপ্টার গুলোতে:</p>
<ul>
  <li>কাস্টম কনফিউশন ম্যাট্রিক্সের বৈশিষ্ট্য</li>
  <li>র‍্যান্ডম ডেটা তৈরি</li>
  <li><code class="language-plaintext highlighter-rouge">matplotlib</code> কনফিগার করা</li>
  <li><code class="language-plaintext highlighter-rouge">confusion_matrix</code> তৈরি করা</li>
  <li>কিছু প্রয়োজনীয় হিসাব</li>
  <li>Annotation তৈরি করা</li>
  <li>কাস্টমাইজড কনফিউশন ম্যাট্রিক্স তৈরি করা</li>
  <li><code class="language-plaintext highlighter-rouge">DataFrame</code> তৈরি করা</li>
  <li>হিটম্যাপ দেখানো</li>
  <li>ফলাফল মূল্যায়ন করা</li>
</ul>

"> -->
    <meta name="image" content="assets/images/2021-07-01-How-to-make-a-custom-confusion-matrix-on-matplotlib-with-heatmap-and-annotation/1.png">

    <meta itemprop="name" content="হিটম্যাপ ও এনোটেশন এর সাহায্যে ম্যাটপ্লটলিবে কিভাবে কাস্টম কনফিউশন ম্যাট্রিক্স তৈরি করতে হয়">
    <!-- <meta itemprop="description" content="<p>কনফিউশন ম্যাট্রিক্স, <strong>error matrix</strong> বা <strong>matching matrix</strong><sup><a href="https://en.wikipedia.org/wiki/Confusion_matrix">1</a></sup> হিসাবেও পরিচিত। এই ম্যাট্রিক্সের প্রতিটি সারি এবং প্রতিটি কলাম যথাক্রমে actual class এবং predicted class। এই পোস্টে আমি আলোচনা করেছি যে, কীভাবে আমরা পাইথনে <code class="language-plaintext highlighter-rouge">matplotlib</code> দিয়ে multi-class classification এর জন্য কাস্টম কনফিউশন ম্যাট্রিক্স তৈরি করতে পারি। নিচের জিনিস গুলো নিয়ে বিস্তারিত থাকছে পরবর্তী চ্যাপ্টার গুলোতে:</p>
<ul>
  <li>কাস্টম কনফিউশন ম্যাট্রিক্সের বৈশিষ্ট্য</li>
  <li>র‍্যান্ডম ডেটা তৈরি</li>
  <li><code class="language-plaintext highlighter-rouge">matplotlib</code> কনফিগার করা</li>
  <li><code class="language-plaintext highlighter-rouge">confusion_matrix</code> তৈরি করা</li>
  <li>কিছু প্রয়োজনীয় হিসাব</li>
  <li>Annotation তৈরি করা</li>
  <li>কাস্টমাইজড কনফিউশন ম্যাট্রিক্স তৈরি করা</li>
  <li><code class="language-plaintext highlighter-rouge">DataFrame</code> তৈরি করা</li>
  <li>হিটম্যাপ দেখানো</li>
  <li>ফলাফল মূল্যায়ন করা</li>
</ul>

"> -->
    <meta itemprop="image" content="assets/images/2021-07-01-How-to-make-a-custom-confusion-matrix-on-matplotlib-with-heatmap-and-annotation/1.png">
    <meta name="image" property="og:image" content="assets/images/2021-07-01-How-to-make-a-custom-confusion-matrix-on-matplotlib-with-heatmap-and-annotation/1.png">
    <meta name="author" content="Rafsun Jany Arman">
    

<!-- Schema.org for Google -->

<!-- Twitter -->
<meta name="twitter:site" content="@_rjarman">
<meta name="twitter:creator" content="@_rjarman">
<!-- Open Graph general (Facebook, Pinterest & Google+) -->
<meta property="fb:admins" content="https://www.facebook.com/rafsunjany.arman.1/">



    <link rel="shortcut icon" type="image/x-icon" href="/assets/images/favicon.ico">

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

    <!-- Google Fonts-->
    <link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700" rel="stylesheet">

    <!-- Bootstrap Modified -->
    <link rel="stylesheet" href="/assets/css/main.css">

    <!-- Theme Stylesheet -->
    <link rel="stylesheet" href="/assets/css/theme.css">
    <link href="/assets/css/syntax_gruvbox.light.css" rel="stylesheet">

    <!-- Jquery on header to make sure everything works, the rest  of the scripts in footer for fast loading -->
    <script
    src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>

    <!-- This goes before </head> closing tag, Google Analytics can be placed here -->

<script
  type="text/javascript"
  src="https://app.mailjet.com/statics/js/iframeResizer.min.js"
></script>



</head>

<body class="">
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W5TJ6Q8"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Navbar -->
    <nav id="MagicMenu" class="topnav navbar navbar-expand-lg navbar-light bg-white fixed-top">
    <div class="container">
        <a class="navbar-brand navbar-logo" href="/bn/">
            <img src="/assets/images/official_logo_black.png" alt="Official Logo(black)">
        </a>
        <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarColor02" aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
        </button>
        <div class="navbar-collapse collapse" id="navbarColor02">
            <ul class="navbar-nav mr-auto d-flex align-items-center">
               <!--  Replace menu links here -->

<li class="nav-item">
  <a class="nav-link caption-font-en" href="/bn">Home</a>
</li>
<li class="nav-item">
  <a class="nav-link caption-font-en" href="/bn/authors">Authors</a>
</li>
<li class="nav-item">
  <a class="nav-link caption-font-en" href="/bn/contact">Contact</a>
</li>
<li class="nav-item">
  <a target="_blank" class="nav-link caption-font-en" href="https://www.patreon.com/rafsun"
    >Donate</i
  ></a>
</li>
<li class="nav-item">

  <!-- Adds links to other languages on the post -->
  
  
    
      <a class="nav-link caption-font-en" href="/How-to-make-a-custom-confusion-matrix-on-matplotlib-with-heatmap-and-annotation-2021070218326405004/" >English</a>
    
  

  


</li>

            </ul>
            <ul class="navbar-nav ml-auto d-flex align-items-center">
                <script src="/assets/js/lunr.js"></script>

<script>
  $(function() {
      $("#lunrsearchresults").on('click', '#btnx', function () {
          $('#lunrsearchresults').hide( 1000 );
          $( "body" ).removeClass( "modal-open" );
      });
  });

  
  var documents = [{
      "id": 0,
      "url": "https://blog.heaplinker.com/bn/404/",
      "title": "",
      "body": ""
      }, {
      "id": 1,
      "url": "https://blog.heaplinker.com/bn/authors",
      "title": "Authors",
      "body": " {{page. title}}:    {% for author in site. authors %}                                           {{ author[1]. name }}:        (View Posts)                        {% for tag in author[1]. tags %}         {{ tag[1] }}         {% endfor %}                      {{ author[1]. bio }}                                   &nbsp;                &nbsp;                &nbsp;                &nbsp;                &nbsp;                &nbsp;                             {% endfor %} "
      }, {
      "id": 2,
      "url": "https://blog.heaplinker.com/bn/categories",
      "title": "Categories",
      "body": "      Categories   {% for category in site. categories %}       {{ category[0] }}   :    {% assign pages_list = category[1] %} {% for post in pages_list %} {% if   post. title != null %} {% if group == null or group == post. group %} {%   include main-loop-card. html %} {% endif %} {% endif %} {% endfor %} {%   assign pages_list = nil %} {% assign group = nil %} {% endfor %}    {% include sidebar-featured. html %} "
      }, {
      "id": 3,
      "url": "https://blog.heaplinker.com/bn/contact",
      "title": "Contact",
      "body": "  Please send your message to {{site. name}}. We will reply as soon as possible!   "
      }, {
      "id": 4,
      "url": "https://blog.heaplinker.com/bn/",
      "title": "Think and Make",
      "body": "  {% if page. url ==  /  %}            {% assign latest_post = site. posts[0] %}          &lt;div class= topfirstimage  style= background-image: url({% if latest_post. image contains  ://  %}{{ latest_post. image }}{% else %}/{{ latest_post. image}}{% endif %}); height: 200px;  background-size: cover;  background-repeat: no-repeat; &gt;&lt;/div&gt;           {{ latest_post. title }}  :       {% if site. lang== en  %}    {{ latest_post. excerpt | strip_html | strip_newlines | truncate: 136 }}    {% else %}    {{ latest_post. excerpt | strip_html | strip_newlines | truncate: 200 }}    {% endif %}                       {% for category in latest_post. categories %}        @{{ category }}         {% endfor %}                                {{ latest_post. date | date: '%b %d, %Y' }}                            {%- assign second_post = site. posts[1] -%}                        {% if second_post. image %}                         &lt;img class= w-100  src= {% if second_post. image contains  ://  %}{{ second_post. image }}{% else %}{{ second_post. image | absolute_url }}{% endif %}  alt= {{ second_post. title }} &gt;                        {% endif %}                                    {{ second_post. title }}          :                                   {% for category in second_post. categories %}            @{{ category }}             {% endfor %}                                                      {{ second_post. date | date: '%b %d, %Y' }}                                    {%- assign third_post = site. posts[2] -%}                        {% if third_post. image %}                         &lt;img class= w-100  src= {% if third_post. image contains  ://  %}{{ third_post. image }}{% else %}/{{ third_post. image }}{% endif %}  alt= {{ third_post. title }} &gt;                        {% endif %}                                    {{ third_post. title }}          :                                   {% for category in third_post. categories %}            @{{ category }}             {% endfor %}                                                      {{ third_post. date | date: '%b %d, %Y' }}                                    {%- assign fourth_post = site. posts[3] -%}                        {% if fourth_post. image %}                        &lt;img class= w-100  src= {% if fourth_post. image contains  ://  %}{{ fourth_post. image }}{% else %}/{{ fourth_post. image }}{% endif %}  alt= {{ fourth_post. title }} &gt;                        {% endif %}                                    {{ fourth_post. title }}          :                                   {% for category in fourth_post. categories %}            @{{ category }}             {% endfor %}                                                      {{ fourth_post. date | date: '%b %d, %Y' }}                                  {% for post in site. posts %} {% if post. tags contains  sticky  %}                    {{post. title}}                  {{ post. excerpt | strip_html | strip_newlines | truncate: 136 }}                 Read More            	             {% endif %}{% endfor %}  {% endif %}                All Stories:         {% for post in paginator. posts %}          {% include main-loop-card. html %}        {% endfor %}                   {% if paginator. total_pages &gt; 1 %}              {% if paginator. previous_page %}        &laquo; Prev       {% else %}        &laquo;       {% endif %}       {% for page in (1. . paginator. total_pages) %}        {% if page == paginator. page %}        {{ page }}        {% elsif page == 1 %}        {{ page }}        {% else %}        {{ page }}        {% endif %}       {% endfor %}       {% if paginator. next_page %}        Next &raquo;       {% else %}        &raquo;       {% endif %}            {% endif %}                     {% include sidebar-featured. html %}      "
      }, {
      "id": 5,
      "url": "https://blog.heaplinker.com/bn/jane",
      "title": "Jane",
      "body": "                     {{page. title}}      Follow     :            {{ site. authors. jane. site }}           {{ site. authors. jane. bio }}                            Posts by {{page. title}}   :    {% assign posts = site. posts | where: author , jane  %} {% for post in   posts %} {% include main-loop-card. html %} {% endfor %}   "
      }, {
      "id": 6,
      "url": "https://blog.heaplinker.com/bn/privacy-policy",
      "title": "Privacy Policy",
      "body": "”{{site. name}}” takes your privacy seriously. To better protect your privacy we provide this privacy policy notice explaining the way your personal information is collected and used. Collection of Routine Information: This website track basic information about their visitors. This information includes, but is not limited to, IP addresses, browser details, timestamps and referring pages. None of this information can personally identify specific visitor to this website. The information is tracked for routine administration and maintenance purposes. Cookies: Where necessary, this website uses cookies to store information about a visitor’s preferences and history in order to better serve the visitor and/or present the visitor with customized content. Advertisement and Other Third Parties: Advertising partners and other third parties may use cookies, scripts and/or web beacons to track visitor activities on this website in order to display advertisements and other useful information. Such tracking is done directly by the third parties through their own servers and is subject to their own privacy policies. This website has no access or control over these cookies, scripts and/or web beacons that may be used by third parties. Learn how to opt out of Google’s cookie usage. Links to Third Party Websites: We have included links on this website for your use and reference. We are not responsible for the privacy policies on these websites. You should be aware that the privacy policies of these websites may differ from our own. Security: The security of your personal information is important to us, but remember that no method of transmission over the Internet, or method of electronic storage, is 100% secure. While we strive to use commercially acceptable means to protect your personal information, we cannot guarantee its absolute security. Changes To This Privacy Policy: This Privacy Policy is effective and will remain in effect except with respect to any changes in its provisions in the future, which will be in effect immediately after being posted on this page. We reserve the right to update or change our Privacy Policy at any time and you should check this Privacy Policy periodically. If we make any material changes to this Privacy Policy, we will notify you either through the email address you have provided us, or by placing a prominent notice on our website. Contact Information: For any questions or concerns regarding the privacy policy, please contact us here. "
      }, {
      "id": 7,
      "url": "https://blog.heaplinker.com/bn/rafsun-jany-arman",
      "title": "Rafsun Jany Arman",
      "body": "                     {{page. title}}      Follow     :            {{ site. authors. rafsun. site }}           {{ site. authors. rafsun. bio }}                            Posts by {{page. title}}   :    {% assign posts = site. posts | where: author , rafsun  %} {% for post in   posts %} {% include main-loop-card. html %} {% endfor %}   "
      }, {
      "id": 8,
      "url": "https://blog.heaplinker.com/bn/tags",
      "title": "Tags",
      "body": "      Tags   {% for tag in site. tags %}       {{ tag[0] }}   :    {% assign pages_list = tag[1] %} {% for post in pages_list %} {% if   post. title != null %} {% if group == null or group == post. group %} {%   include main-loop-card. html %} {% endif %} {% endif %} {% endfor %} {%   assign pages_list = nil %} {% assign group = nil %} {% endfor %}    {% include sidebar-featured. html %} "
      }, {
      "id": 9,
      "url": "https://blog.heaplinker.com/bn/robots.txt",
      "title": "",
      "body": "      Sitemap: {{ “sitemap. xml”   absolute_url }}   "
      }, {
      "id": 10,
      "url": "https://blog.heaplinker.com/bn/How-to-make-a-custom-confusion-matrix-on-matplotlib-with-heatmap-and-annotation-2021070218326405004/",
      "title": "হিটম্যাপ ও এনোটেশন এর সাহায্যে ম্যাটপ্লটলিবে কিভাবে কাস্টম কনফিউশন ম্যাট্রিক্স তৈরি করতে হয়",
      "body": "2021/07/02 - কনফিউশন ম্যাট্রিক্স, error matrix বা matching matrix1 হিসাবেও পরিচিত। এই ম্যাট্রিক্সের প্রতিটি সারি এবং প্রতিটি কলাম যথাক্রমে actual class এবং predicted class। এই পোস্টে আমি আলোচনা করেছি যে, কীভাবে আমরা পাইথনে matplotlib দিয়ে multi-class classification এর জন্য কাস্টম কনফিউশন ম্যাট্রিক্স তৈরি করতে পারি। নিচের জিনিস গুলো নিয়ে বিস্তারিত থাকছে পরবর্তী চ্যাপ্টার গুলোতে:  কাস্টম কনফিউশন ম্যাট্রিক্সের বৈশিষ্ট্য র‍্যান্ডম ডেটা তৈরি matplotlib কনফিগার করা confusion_matrix তৈরি করা কিছু প্রয়োজনীয় হিসাব Annotation তৈরি করা কাস্টমাইজড কনফিউশন ম্যাট্রিক্স তৈরি করা DataFrame তৈরি করা হিটম্যাপ দেখানো ফলাফল মূল্যায়ন করাকাস্টম কনফিউশন ম্যাট্রিক্সের বৈশিষ্ট্য: এই ম্যাট্রিক্সে ছয়টি পৃথক ক্লাস থাকবে এবং প্রতিটি সেলে দুটি পৃথক পৃথক ডেটা থাকবে, যার মধ্যে একটি সেলে truly বা falsely predicted ডেটার মোট সংখ্যা এবং অন্য সেলে পার্সেন্টেজ(প্রতিটি ক্লাসের prediction rate) থাকবে।  সপ্তম সারির ১ থেকে ৬ষ্ঠ সেল পর্যন্ত precision থাকবে সপ্তম কলামের ১ থেকে ৬ষ্ঠ সেল পর্যন্ত recall এবং support থাকবে বাকি একটিতে accuracy থাকবে true_positive, true_negative, false_positive এবং false_negative এর মোট সংখ্যা অথবা পার্সেন্টেজের উপর ভিত্তি করে ম্যাট্রিক্সটি হিটম্যাপ দেখাবের‍্যান্ডম ডেটা তৈরি: প্রথমেই কিছু প্রয়োজনীয় মডিউল ইম্পোর্ট করতে হবে: import numpy as npimport pandas as pdimport matplotlib. pyplot as pltimport matplotlib. pylab as pylabimport seaborn as snsfrom sklearn. metrics import confusion_matrixভিজ্যুয়ালাইজেশন জন্য এভাবে আমাদের কিছু র‍্যান্ডম ডেটা তৈরি করতে হবে: np. random. seed(46) # for consistent result# generate random true data for 6 classesy_true = np. random. randint(0, 6, 1000) # generate random predicted data for 6 classesy_pred = np. random. randint(0, 6, 1000) # labeling the classes as followslabels = [ 'Potato__Early_blight',  'Potato__Late_blight',  'Potato__healthy',  'Tomato__Early_blight',  'Tomato__Late_blight',  'Tomato__healthy']print(y_true[:10])print(y_pred[:10])প্রথম ১০টি ইন্ডেক্সের আউটপুট: [2 2 2 1 0 1 0 4 4 1][4 3 4 1 4 4 3 5 2 1]matplotlib কনফিগার করা: matplotlib এর জন্য প্রয়োজনীয় কিছু ডিজাইন প্যারামিটার সেট করতে হবে: params = { 'figure. figsize': (10, 10), 'axes. titleweight': 'bold', 'axes. labelsize': '16', 'axes. titlesize':'20', 'axes. labelweight':'bold', 'xtick. labelsize':'14', 'ytick. labelsize':'14', 'font. size': '14'}pylab. rcParams. update(params)confusion_matrix তৈরি করা: এখন sklearn. metrics. confusion_matrix মডিউল দ্বারা কনফিউশন ম্যাট্রিক্সটি তৈরি করি: c_m = confusion_matrix(y_true, y_pred, labels=list(range(0, len(labels))))print(c_m)আউটপুট: [[37 38 28 21 24 24] [22 19 22 30 23 31] [20 38 30 19 32 34] [19 30 39 29 32 24] [25 17 27 26 28 29] [21 34 27 31 35 35]]কিছু প্রয়োজনীয় হিসাব: মাল্টিক্লাস ক্লাসিফিকেশনের জন্য প্রত্যেক ক্লাসের true_positive(TP) এবং false_positive(FP) এর মোট যোগফল হিসাব করি:    axis = 1 because of column-wise calculation, for example:37 + 38 + 28 + 21 + 24 + 24 = 172To preserve the previous dimension of the array, keepdims = True   c_m_sum = np. sum(c_m, axis=1, keepdims=True)print(c_m_sum)আউটপুট: [[172] [147] [173] [173] [152] [183]]প্রতিটি সেলের জন্য element-wise প্রোবাবিলিটি গণনা করতে হবে, সেই সাথে আমাদের ম্যাট্রিক্সের প্রতিটি সারি এবং কলামের জন্য row-wise, column-wise এবং diagonal (true_positive এর মোট সংখ্যা) যোগফল বের করতে হবে। prediction_rate = c_m / c_m_sum. astype(float) * 100row_wise_sum = c_m. sum(axis=0)col_wise_sum = c_m. sum(axis=1)total_true_pos = c_m. diagonal()print(prediction_rate, row_wise_sum, col_wise_sum, total_true_pos, sep='\n')আউটপুট: [[21. 51162791 22. 09302326 16. 27906977 12. 20930233 13. 95348837 13. 95348837] [14. 96598639 12. 92517007 14. 96598639 20. 40816327 15. 6462585 21. 08843537] [11. 56069364 21. 96531792 17. 34104046 10. 98265896 18. 49710983 19. 65317919] [10. 98265896 17. 34104046 22. 5433526 16. 76300578 18. 49710983 13. 87283237] [16. 44736842 11. 18421053 17. 76315789 17. 10526316 18. 42105263 19. 07894737] [11. 47540984 18. 57923497 14. 75409836 16. 93989071 19. 12568306 19. 12568306]][144 176 173 156 174 177][172 147 173 173 152 183][37 19 30 29 28 35]নিম্নের ফর্মুলা গুলো দিয়ে precision, recall এবং accuracy পার্সেন্টেজ হিসাব করি:  accuracy = total_true_pos. sum() / len(y_true) * 100precision = total_true_pos / col_wise_sum * 100recall = total_true_pos / row_wise_sum * 100print(accuracy, precision, recall, sep='\n')আউটপুট: 17. 8[21. 51162791 12. 92517007 17. 34104046 16. 76300578 18. 42105263 19. 12568306][25. 69444444 10. 79545455 17. 34104046 18. 58974359 16. 09195402 19. 7740113 ]Annotation তৈরি করা: কনফিউশন ম্যাট্রিক্সের মতো সাইজের একটি numpy. ndarray নিতে হবে: annotation = np. empty_like(c_m). astype(str)rows, cols = c_m. shapeprint(rows, cols)আউটপুট: 6 6খালি annotation ম্যাট্রিক্সটি prediction_rate এবং c_m এর ভ্যালু দিয়ে পূর্ণ করি: for i in range(rows): for j in range(cols):   count = c_m[i, j]   pre = prediction_rate[i, j]   annotation[i, j] = '%d\n%. 1f%%' % (count, pre)print(annotation)আউটপুট: [['37\n21. 5%' '38\n22. 1%' '28\n16. 3%' '21\n12. 2%' '24\n14. 0%' '24\n14. 0%'] ['22\n15. 0%' '19\n12. 9%' '22\n15. 0%' '30\n20. 4%' '23\n15. 6%' '31\n21. 1%'] ['20\n11. 6%' '38\n22. 0%' '30\n17. 3%' '19\n11. 0%' '32\n18. 5%' '34\n19. 7%'] ['19\n11. 0%' '30\n17. 3%' '39\n22. 5%' '29\n16. 8%' '32\n18. 5%' '24\n13. 9%'] ['25\n16. 4%' '17\n11. 2%' '27\n17. 8%' '26\n17. 1%' '28\n18. 4%' '29\n19. 1%'] ['21\n11. 5%' '34\n18. 6%' '27\n14. 8%' '31\n16. 9%' '35\n19. 1%' '35\n19. 1%']]precision ও col_wise_sum অ্যারে তে যথাক্রমে accuracy এবং true_positive এর মোট সংখ্যা append করতে হবে যাতে পরবর্তীতে DataFrame তৈরি করতে সুবিধা হয়- col_wise_sum = np. append(col_wise_sum, total_true_pos. sum())precision = np. append(precision, accuracy)print(col_wise_sum, precision, sep='\n')আউটপুট: [172 147 173 173 152 183 178][21. 51162791 12. 92517007 17. 34104046 16. 76300578 18. 42105263 19. 12568306 17. 8]recall এবং precision উভয়ের জন্য annotation তৈরি করতে এর tuple(total_num, percentage) তৈরি করি recall = np. array([[i, j] for i,j in zip(row_wise_sum, recall)])precision = np. array([[i, j] for i,j in zip(col_wise_sum, precision)])print(recall, precision, sep='\n')আউটপুট: [[144.      25. 69444444] [176.      10. 79545455] [173.      17. 34104046] [156.      18. 58974359] [174.      16. 09195402] [177.      19. 7740113 ]][[172.      21. 51162791] [147.      12. 92517007] [173.      17. 34104046] [173.      16. 76300578] [152.      18. 42105263] [183.      19. 12568306] [178.      17. 8    ]]নতুন তৈরি করা annotation (from recall) পূর্বের annotation এর সাথে যুক্ত করতে হবে। annotation = np. concatenate((annotation, [list(map(lambda data: '%d\n%. 1f%%' % (data[0], data[1]), recall))]), axis=0)print(annotation)আউটপুট: [['37\n21. 5%' '38\n22. 1%' '28\n16. 3%' '21\n12. 2%' '24\n14. 0%' '24\n14. 0%'] ['22\n15. 0%' '19\n12. 9%' '22\n15. 0%' '30\n20. 4%' '23\n15. 6%' '31\n21. 1%'] ['20\n11. 6%' '38\n22. 0%' '30\n17. 3%' '19\n11. 0%' '32\n18. 5%' '34\n19. 7%'] ['19\n11. 0%' '30\n17. 3%' '39\n22. 5%' '29\n16. 8%' '32\n18. 5%' '24\n13. 9%'] ['25\n16. 4%' '17\n11. 2%' '27\n17. 8%' '26\n17. 1%' '28\n18. 4%' '29\n19. 1%'] ['21\n11. 5%' '34\n18. 6%' '27\n14. 8%' '31\n16. 9%' '35\n19. 1%' '35\n19. 1%'] ['144\n25. 7%' '176\n10. 8%' '173\n17. 3%' '156\n18. 6%' '174\n16. 1%' '177\n19. 8%']]নতুন তৈরি করা annotation (from precision) পূর্বের annotation এর সাথে যুক্ত করতে হবে। annotation = np. concatenate((annotation, np. array([list(map(lambda data: '%d\n%. 1f%%' % (data[0], data[1]), precision))]). T), axis=1)print(annotation)আউটপুট: [['37\n21. 5%' '38\n22. 1%' '28\n16. 3%' '21\n12. 2%' '24\n14. 0%' '24\n14. 0%' '172\n21. 5%'] ['22\n15. 0%' '19\n12. 9%' '22\n15. 0%' '30\n20. 4%' '23\n15. 6%' '31\n21. 1%' '147\n12. 9%'] ['20\n11. 6%' '38\n22. 0%' '30\n17. 3%' '19\n11. 0%' '32\n18. 5%' '34\n19. 7%' '173\n17. 3%'] ['19\n11. 0%' '30\n17. 3%' '39\n22. 5%' '29\n16. 8%' '32\n18. 5%' '24\n13. 9%' '173\n16. 8%'] ['25\n16. 4%' '17\n11. 2%' '27\n17. 8%' '26\n17. 1%' '28\n18. 4%' '29\n19. 1%' '152\n18. 4%'] ['21\n11. 5%' '34\n18. 6%' '27\n14. 8%' '31\n16. 9%' '35\n19. 1%' '35\n19. 1%' '183\n19. 1%'] ['144\n25. 7%' '176\n10. 8%' '173\n17. 3%' '156\n18. 6%' '174\n16. 1%' '177\n19. 8%' '178\n17. 8%']]পূর্বেই আমি একটি অতিরিক্ত সারি এবং কলাম যুক্ত করেছি, এজন্য আমাদের আরেকটা লেবেল যুক্ত করতে হবে। যেমনঃ precision_recall_accuracy labels. append('precision_recall_accuracy')print(labels)আউটপুট: ['Potato__Early_blight', 'Potato__Late_blight', 'Potato__healthy', 'Tomato__Early_blight', 'Tomato__Late_blight', 'Tomato__healthy', 'precision_recall_accuracy']কাস্টমাইজড কনফিউশন ম্যাট্রিক্স তৈরি করা: সারি ও কলামে যথাক্রমে precision এবং recall যোগ করার জন্য পূর্বের তৈরি কনফিউশন ম্যাট্রিক্সের কাঠামোতে পরিবর্তন করতে হবে। সেজন্য আমি এখানে c_m ম্যাট্রিক্সের recall ও precision এর মোট সংখ্যা থেকে একটি নতুন c_m_1 ম্যাট্রিক্স তৈরি করেছি- c_m_1 = np. concatenate((c_m, [recall[:, 0]]), axis=0)c_m_1 = np. concatenate((c_m_1, np. array([precision[:, 0]]). T), axis=1)print(c_m)print(c_m_1)আউটপুট: [[37 38 28 21 24 24] [22 19 22 30 23 31] [20 38 30 19 32 34] [19 30 39 29 32 24] [25 17 27 26 28 29] [21 34 27 31 35 35]][[ 37.  38.  28.  21.  24.  24. 172. ] [ 22.  19.  22.  30.  23.  31. 147. ] [ 20.  38.  30.  19.  32.  34. 173. ] [ 19.  30.  39.  29.  32.  24. 173. ] [ 25.  17.  27.  26.  28.  29. 152. ] [ 21.  34.  27.  31.  35.  35. 183. ] [144. 176. 173. 156. 174. 177. 178. ]]c_m_2 নামে আরেকটি ম্যাট্রিক্স তৈরি করতে হবে, যেখানে prediction_rate ম্যাট্রিক্স এর prediction rate এবং precision-recall এর পারসেন্টেজ থাকবে। c_m_2 = np. concatenate((prediction_rate, [recall[:, 1]]), axis=0)c_m_2 = np. concatenate((c_m_2, np. array([precision[:, 1]]). T), axis=1)print(prediction_rate)print(c_m_2)আউটপুট: [[21. 51162791 22. 09302326 16. 27906977 12. 20930233 13. 95348837 13. 95348837] [14. 96598639 12. 92517007 14. 96598639 20. 40816327 15. 6462585 21. 08843537] [11. 56069364 21. 96531792 17. 34104046 10. 98265896 18. 49710983 19. 65317919] [10. 98265896 17. 34104046 22. 5433526 16. 76300578 18. 49710983 13. 87283237] [16. 44736842 11. 18421053 17. 76315789 17. 10526316 18. 42105263 19. 07894737] [11. 47540984 18. 57923497 14. 75409836 16. 93989071 19. 12568306 19. 12568306]][[21. 51162791 22. 09302326 16. 27906977 12. 20930233 13. 95348837 13. 95348837 21. 51162791] [14. 96598639 12. 92517007 14. 96598639 20. 40816327 15. 6462585 21. 08843537 12. 92517007] [11. 56069364 21. 96531792 17. 34104046 10. 98265896 18. 49710983 19. 65317919 17. 34104046] [10. 98265896 17. 34104046 22. 5433526 16. 76300578 18. 49710983 13. 87283237 16. 76300578] [16. 44736842 11. 18421053 17. 76315789 17. 10526316 18. 42105263 19. 07894737 18. 42105263] [11. 47540984 18. 57923497 14. 75409836 16. 93989071 19. 12568306 19. 12568306 19. 12568306] [25. 69444444 10. 79545455 17. 34104046 18. 58974359 16. 09195402 19. 7740113 17. 8    ]]DataFrame তৈরি করা: c_m_1 এবং c_m_2 উভয়ের জন্য DataFrame তৈরি করতে হবে এবং তাদের index বা কলামের নাম নিম্নের মতো করে ঠিক করি: c_m_1 = pd. DataFrame(c_m_1, index=labels, columns=labels)c_m_1. index. name = 'Output Class'c_m_1. columns. name = 'Target Class'c_m_2 = pd. DataFrame(c_m_2, index=labels, columns=labels)c_m_2. index. name = 'Output Class'c_m_2. columns. name = 'Target Class'c_m_1. info()আউটপুট: &lt;class 'pandas. core. frame. DataFrame'&gt;Index: 7 entries, Potato__Early_blight to precision_recall_accuracyData columns (total 7 columns): #  Column           Non-Null Count Dtype --- ------           -------------- -----  0  Potato__Early_blight    7 non-null   float64 1  Potato__Late_blight    7 non-null   float64 2  Potato__healthy      7 non-null   float64 3  Tomato__Early_blight    7 non-null   float64 4  Tomato__Late_blight    7 non-null   float64 5  Tomato__healthy      7 non-null   float64 6  precision_recall_accuracy 7 non-null   float64dtypes: float64(7)memory usage: 448. 0+ bytesহিটম্যাপ দেখানো: ক্লাসের সংখ্যার উপর নির্ভর করে হিটম্যাপ- color intensities varies yellow(low) to green(high) heatmap_1 = sns. heatmap(c_m_1, annot=annotation, fmt='', cbar=True, cmap='YlGn')heatmap_1. set_xticklabels(heatmap_1. get_xticklabels(), rotation=45, horizontalalignment='right')plt. title('Confusion Matrix(number of classes)')plt. show()আউটপুট: পারসেন্টেজের উপর নির্ভর করে হিটম্যাপ- heatmap_2 = sns. heatmap(c_m_2, annot=annotation, fmt='', cbar=True, cmap='YlGn')heatmap_2. set_xticklabels(heatmap_2. get_xticklabels(), rotation=45, horizontalalignment='right')plt. title('Confusion Matrix(percentages)')plt. show()আউটপুট: আরও ভাল ভাবে দেখার জন্য কালার ম্যাপটি বাদ দেই: heatmap = sns. heatmap(c_m_2, annot=annotation, fmt='', cbar=False, cmap='YlGn')heatmap. set_xticklabels(heatmap. get_xticklabels(), rotation=45, horizontalalignment='right')plt. title('Confusion Matrix')plt. show()আউটপুট: ফলাফল মূল্যায়ন করা: এখন আমরা sklearn. metrics মডিউল দিয়ে accuracy, precision, recall এবং support এর মান মূল্যায়ন করতে পারি: from sklearn. metrics import classification_reportprint(classification_report(y_true, y_pred, labels=list(range(len(labels[:-1]))), target_names=labels[:-1]))আউটপুট:            precision  recall f1-score  supportPotato__Early_blight    0. 26   0. 22   0. 23    172 Potato__Late_blight    0. 11   0. 13   0. 12    147   Potato__healthy    0. 17   0. 17   0. 17    173Tomato__Early_blight    0. 19   0. 17   0. 18    173 Tomato__Late_blight    0. 16   0. 18   0. 17    152   Tomato__healthy    0. 20   0. 19   0. 19    183      accuracy              0. 18   1000      macro avg    0. 18   0. 18   0. 18   1000    weighted avg    0. 18   0. 18   0. 18   1000আমাদের মানের সাথে Accuracy, Precision, Recall and Support এর মান মিলে যায়। সুতরাং আমদের ম্যাট্রিক্সটি সঠিক ভাবেই তৈরি করা হয়েছে। পুরো কোডটি এখানে- গিটহাব রিপোজিটোরি এর লিঙ্ক। "
      }];

  var idx = lunr(function () {
      this.ref('id')
      this.field('title')
      this.field('body')

      documents.forEach(function (doc) {
          this.add(doc)
      }, this)
  });



  function lunr_search(term) {
      $('#lunrsearchresults').show( 1000 );
      $( "body" ).addClass( "modal-open" );

      document.getElementById('lunrsearchresults').innerHTML = '<div id="resultsmodal" class="modal fade show d-block"  tabindex="-1" role="dialog" aria-labelledby="resultsmodal"> <div class="modal-dialog shadow-lg" role="document"> <div class="modal-content"> <div class="modal-header" id="modtit"> <button type="button" class="close" id="btnx" data-dismiss="modal" aria-label="Close"> &times; </button> </div> <div class="modal-body"> <ul class="mb-0"> </ul>    </div> <div class="modal-footer"><button id="btnx" type="button" class="btn btn-secondary btn-sm caption-font-en heap-btn-col" style="font-weight: bold;" data-dismiss="modal">Close</button></div></div> </div></div>';
      if(term) {
          document.getElementById('modtit').innerHTML = "<h5 class='modal-title caption-font-en'>Search results for '" + term + "'</h5>" + document.getElementById('modtit').innerHTML;
          //put results on the screen.
          var results = idx.search(term);
          if(results.length>0){
              //console.log(idx.search(term));
              //if results
              for (var i = 0; i < results.length; i++) {
                  // more statements
                  var ref = results[i]['ref'];
                  var url = documents[ref]['url'];
                  var title = documents[ref]['title'];
                  var body = documents[ref]['body'].substring(0,160)+'...';
                  // document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML + "<li class='lunrsearchresult'><a href='" + url + "'><span class='title heading-font-en' style='color: black;'>" + title + "</span><br /><small><span class='body caption-font-en'>"+ body +"</span><br /><span class='url'>"+ url +"</span></small></a></li>";
                  document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML + "<li class='lunrsearchresult'><a href='" + url + "'><span class='title heading-font-en' style='color: black;'>" + title + "</span><br /><small><span class='body caption-font-en'>"+ body +"</span><br /></small></a></li>";
              }
          } else {
              document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = "<li class='lunrsearchresult caption-font-en'>Sorry, no results found. Close & try a different search!</li>";
          }
      }
      return false;
  }
</script>
<style>
  .lunrsearchresult .title {
    color: #d9230f;
  }
  .lunrsearchresult .url {
    color: silver;
  }
  .lunrsearchresult a {
    display: block;
    color: #777;
  }
  .lunrsearchresult a:hover,
  .lunrsearchresult a:focus {
    text-decoration: none;
  }
  .lunrsearchresult a:hover .title {
    text-decoration: underline;
  }
</style>

<form
  class="bd-search hidden-sm-down"
  onSubmit="return lunr_search(document.getElementById('lunrsearch').value);"
>
  <input
    style="width: 220px"
    type="text"
    class="form-control text-small caption-font-en"
    id="lunrsearch"
    name="q"
    value=""
    placeholder="Type keyword and enter..."
  />
</form>

            </ul>
        </div>
    </div>
    </nav>

    <!-- Search Results -->
    <div id="lunrsearchresults">
        <ul class="mb-0"></ul>
    </div>

    <!-- Content -->
    <main role="main" class="site-content">
        
<div class="container">
  <div
    class="
      jumbotron jumbotron-fluid
      mb-3
      pl-0
      pt-0
      pb-0
      bg-white
      position-relative
    "
  >
    <div class="h-100 tofront">
      <div
        class="
          row
          
          justify-content-between
          
        "
        style="flex-direction: column"
      >
        <div
          class="
            
            col-md-6
            
            pr-0 pr-md-4
            pt-4
            pb-4
            align-self-center
          "
          style="max-width: fit-content; align-self: flex-start !important"
        >
          <!-- <p class="text-uppercase font-weight-bold">
            <span class="catlist">
              
              <a
                class="sscroll text-danger caption-font-bn"
                href="/bn/categories#মেশিন লার্নিং"
                >
                @মেশিন লার্নিং</a
              ><span class="sep"> </span>
              
            </span>
          </p> -->
          <h1 class="display-4 mb-4 article-headline heading-font-bn">হিটম্যাপ ও এনোটেশন এর সাহায্যে ম্যাটপ্লটলিবে কিভাবে কাস্টম কনফিউশন ম্যাট্রিক্স তৈরি করতে হয়</h1>
          <div class="d-flex align-items-center">
            
            <img
              class="rounded-circle"
              src="/assets/images/rafsun.png"
              alt="Rafsun Jany Arman"
              width="70"
            />
            
            <small class="ml-3 heading-font-en">
              Rafsun Jany Arman
              <span
                ><a
                  target="_blank"
                  href="https://twitter.com/_rjarman"
                  class="btn btn-outline-success btn-sm btn-round ml-1 caption-font-en"
                  >Follow</a
                ></span
              >
              <span class="text-muted d-block mt-1"
                >Jul 02, 2021 · <span class="reading-time caption-font-en">
    20 mins read 
</span>
</span
              >
            </small>
          </div>
        </div>
        
        <div
          class="col-md-6 pr-0 align-self-center"
          style="max-width: fit-content"
        >
          <img class="rounded" src="/assets/images/2021-07-01-How-to-make-a-custom-confusion-matrix-on-matplotlib-with-heatmap-and-annotation/1.png"
          alt="হিটম্যাপ ও এনোটেশন এর সাহায্যে ম্যাটপ্লটলিবে কিভাবে কাস্টম কনফিউশন ম্যাট্রিক্স তৈরি করতে হয়">
        </div>
        
      </div>
    </div>
  </div>
</div>

<div class="container-lg pt-4 pb-4">
  <div class="row justify-content-center">
    <!-- Share -->
    <div class="col-lg-2 pr-4 mb-4 col-md-12 caption-font-en">
      <div class="sticky-top sticky-top-offset text-center" style="top: 50%">
        <div class="text-muted">Share this</div>
        <div class="share d-inline-block">
          <!-- AddToAny BEGIN -->
          <div class="a2a_kit a2a_kit_size_32 a2a_default_style">
            <a class="a2a_dd" href="https://www.addtoany.com/share"></a>
            <a class="a2a_button_linkedin"></a>
            <a class="a2a_button_twitter"></a>
          </div>
          <script async src="https://static.addtoany.com/menu/page.js"></script>
          <!-- AddToAny END -->
        </div>
      </div>
    </div>

    <div class="col-md-12 col-lg-8">
      <!-- Article -->
      <article class="article-post article-font-bn"><p>কনফিউশন ম্যাট্রিক্স, <strong>error matrix</strong> বা <strong>matching matrix</strong><sup><a href="https://en.wikipedia.org/wiki/Confusion_matrix">1</a></sup> হিসাবেও পরিচিত। এই ম্যাট্রিক্সের প্রতিটি সারি এবং প্রতিটি কলাম যথাক্রমে actual class এবং predicted class। এই পোস্টে আমি আলোচনা করেছি যে, কীভাবে আমরা পাইথনে <code class="language-plaintext highlighter-rouge">matplotlib</code> দিয়ে multi-class classification এর জন্য কাস্টম কনফিউশন ম্যাট্রিক্স তৈরি করতে পারি। নিচের জিনিস গুলো নিয়ে বিস্তারিত থাকছে পরবর্তী চ্যাপ্টার গুলোতে:</p>
<ul>
  <li>কাস্টম কনফিউশন ম্যাট্রিক্সের বৈশিষ্ট্য</li>
  <li>র‍্যান্ডম ডেটা তৈরি</li>
  <li><code class="language-plaintext highlighter-rouge">matplotlib</code> কনফিগার করা</li>
  <li><code class="language-plaintext highlighter-rouge">confusion_matrix</code> তৈরি করা</li>
  <li>কিছু প্রয়োজনীয় হিসাব</li>
  <li>Annotation তৈরি করা</li>
  <li>কাস্টমাইজড কনফিউশন ম্যাট্রিক্স তৈরি করা</li>
  <li><code class="language-plaintext highlighter-rouge">DataFrame</code> তৈরি করা</li>
  <li>হিটম্যাপ দেখানো</li>
  <li>ফলাফল মূল্যায়ন করা</li>
</ul>

<h4 id="কাস্টম-কনফিউশন-ম্যাট্রিক্সের-বৈশিষ্ট্য">কাস্টম কনফিউশন ম্যাট্রিক্সের বৈশিষ্ট্য</h4>
<p>এই ম্যাট্রিক্সে ছয়টি পৃথক ক্লাস থাকবে এবং প্রতিটি সেলে দুটি পৃথক পৃথক ডেটা থাকবে, যার মধ্যে একটি সেলে truly বা falsely predicted ডেটার মোট সংখ্যা এবং অন্য সেলে পার্সেন্টেজ(প্রতিটি ক্লাসের prediction rate) থাকবে।</p>
<ul>
  <li>সপ্তম সারির ১ থেকে ৬ষ্ঠ সেল পর্যন্ত <strong>precision</strong> থাকবে</li>
  <li>সপ্তম কলামের ১ থেকে ৬ষ্ঠ সেল পর্যন্ত <strong>recall</strong> এবং <strong>support</strong> থাকবে</li>
  <li>বাকি একটিতে <strong>accuracy</strong> থাকবে</li>
  <li><code class="language-plaintext highlighter-rouge">true_positive</code>, <code class="language-plaintext highlighter-rouge">true_negative</code>, <code class="language-plaintext highlighter-rouge">false_positive</code> এবং <code class="language-plaintext highlighter-rouge">false_negative</code> এর মোট সংখ্যা অথবা পার্সেন্টেজের উপর ভিত্তি করে ম্যাট্রিক্সটি হিটম্যাপ দেখাবে</li>
</ul>

<h4 id="র্যান্ডম-ডেটা-তৈরি">র‍্যান্ডম ডেটা তৈরি</h4>
<p>প্রথমেই কিছু প্রয়োজনীয় মডিউল ইম্পোর্ট করতে হবে:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="k">as</span> <span class="n">pylab</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="n">sns</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">confusion_matrix</span></code></pre></figure>

<p>ভিজ্যুয়ালাইজেশন জন্য এভাবে আমাদের কিছু র‍্যান্ডম ডেটা তৈরি করতে হবে:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">46</span><span class="p">)</span> <span class="c1"># for consistent result
</span>
<span class="c1"># generate random true data for 6 classes
</span><span class="n">y_true</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span> 
<span class="c1"># generate random predicted data for 6 classes
</span><span class="n">y_pred</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span> 

<span class="c1"># labeling the classes as follows
</span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s">'Potato__Early_blight'</span><span class="p">,</span> 
  <span class="s">'Potato__Late_blight'</span><span class="p">,</span> 
  <span class="s">'Potato__healthy'</span><span class="p">,</span> 
  <span class="s">'Tomato__Early_blight'</span><span class="p">,</span> 
  <span class="s">'Tomato__Late_blight'</span><span class="p">,</span> 
  <span class="s">'Tomato__healthy'</span>
<span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="n">y_true</span><span class="p">[:</span><span class="mi">10</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">y_pred</span><span class="p">[:</span><span class="mi">10</span><span class="p">])</span></code></pre></figure>

<p>প্রথম ১০টি ইন্ডেক্সের আউটপুট:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="p">[</span><span class="mi">2</span> <span class="mi">2</span> <span class="mi">2</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">4</span> <span class="mi">4</span> <span class="mi">1</span><span class="p">]</span>
<span class="p">[</span><span class="mi">4</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">1</span> <span class="mi">4</span> <span class="mi">4</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">2</span> <span class="mi">1</span><span class="p">]</span></code></pre></figure>

<h4 id="matplotlib-কনফিগার-করা"><code class="language-plaintext highlighter-rouge">matplotlib</code> কনফিগার করা</h4>
<p><code class="language-plaintext highlighter-rouge">matplotlib</code> এর জন্য প্রয়োজনীয় কিছু ডিজাইন প্যারামিটার সেট করতে হবে:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'figure.figsize'</span><span class="p">:</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
  <span class="s">'axes.titleweight'</span><span class="p">:</span> <span class="s">'bold'</span><span class="p">,</span>
  <span class="s">'axes.labelsize'</span><span class="p">:</span> <span class="s">'16'</span><span class="p">,</span>
  <span class="s">'axes.titlesize'</span><span class="p">:</span><span class="s">'20'</span><span class="p">,</span>
  <span class="s">'axes.labelweight'</span><span class="p">:</span><span class="s">'bold'</span><span class="p">,</span>
  <span class="s">'xtick.labelsize'</span><span class="p">:</span><span class="s">'14'</span><span class="p">,</span>
  <span class="s">'ytick.labelsize'</span><span class="p">:</span><span class="s">'14'</span><span class="p">,</span>
  <span class="s">'font.size'</span><span class="p">:</span> <span class="s">'14'</span>
<span class="p">}</span>
<span class="n">pylab</span><span class="p">.</span><span class="n">rcParams</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span class="n">params</span><span class="p">)</span></code></pre></figure>

<h4 id="confusion_matrix-তৈরি-করা"><code class="language-plaintext highlighter-rouge">confusion_matrix</code> তৈরি করা</h4>
<p>এখন <code class="language-plaintext highlighter-rouge">sklearn.metrics.confusion_matrix</code> মডিউল দ্বারা কনফিউশন ম্যাট্রিক্সটি তৈরি করি:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">c_m</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">labels</span><span class="p">))))</span>
<span class="k">print</span><span class="p">(</span><span class="n">c_m</span><span class="p">)</span></code></pre></figure>

<p>আউটপুট:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="p">[[</span><span class="mi">37</span> <span class="mi">38</span> <span class="mi">28</span> <span class="mi">21</span> <span class="mi">24</span> <span class="mi">24</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">22</span> <span class="mi">19</span> <span class="mi">22</span> <span class="mi">30</span> <span class="mi">23</span> <span class="mi">31</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">20</span> <span class="mi">38</span> <span class="mi">30</span> <span class="mi">19</span> <span class="mi">32</span> <span class="mi">34</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">19</span> <span class="mi">30</span> <span class="mi">39</span> <span class="mi">29</span> <span class="mi">32</span> <span class="mi">24</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">25</span> <span class="mi">17</span> <span class="mi">27</span> <span class="mi">26</span> <span class="mi">28</span> <span class="mi">29</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">21</span> <span class="mi">34</span> <span class="mi">27</span> <span class="mi">31</span> <span class="mi">35</span> <span class="mi">35</span><span class="p">]]</span></code></pre></figure>

<h4 id="কিছু-প্রয়োজনীয়-হিসাব">কিছু প্রয়োজনীয় হিসাব</h4>
<p>মাল্টিক্লাস ক্লাসিফিকেশনের জন্য প্রত্যেক ক্লাসের <code class="language-plaintext highlighter-rouge">true_positive</code>(<strong>TP</strong>) এবং <code class="language-plaintext highlighter-rouge">false_positive</code>(<strong>FP</strong>) এর মোট যোগফল হিসাব করি:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="s">"""
axis = 1 because of column-wise calculation, for example:
37 + 38 + 28 + 21 + 24 + 24 = 172
To preserve the previous dimension of the array, keepdims = True
"""</span>
<span class="n">c_m_sum</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">sum</span><span class="p">(</span><span class="n">c_m</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">keepdims</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">c_m_sum</span><span class="p">)</span></code></pre></figure>

<p>আউটপুট:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="p">[[</span><span class="mi">172</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">147</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">173</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">173</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">152</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">183</span><span class="p">]]</span></code></pre></figure>

<p>প্রতিটি সেলের জন্য element-wise প্রোবাবিলিটি গণনা করতে হবে, সেই সাথে আমাদের ম্যাট্রিক্সের প্রতিটি সারি এবং কলামের জন্য row-wise, column-wise এবং diagonal <em>(<strong>true_positive</strong> এর মোট সংখ্যা)</em> যোগফল বের করতে হবে।</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">prediction_rate</span> <span class="o">=</span> <span class="n">c_m</span> <span class="o">/</span> <span class="n">c_m_sum</span><span class="p">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
<span class="n">row_wise_sum</span> <span class="o">=</span> <span class="n">c_m</span><span class="p">.</span><span class="nb">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">col_wise_sum</span> <span class="o">=</span> <span class="n">c_m</span><span class="p">.</span><span class="nb">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">total_true_pos</span> <span class="o">=</span> <span class="n">c_m</span><span class="p">.</span><span class="n">diagonal</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">prediction_rate</span><span class="p">,</span> <span class="n">row_wise_sum</span><span class="p">,</span> <span class="n">col_wise_sum</span><span class="p">,</span> <span class="n">total_true_pos</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span></code></pre></figure>

<p>আউটপুট:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="p">[[</span><span class="mf">21.51162791</span> <span class="mf">22.09302326</span> <span class="mf">16.27906977</span> <span class="mf">12.20930233</span> <span class="mf">13.95348837</span> <span class="mf">13.95348837</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">14.96598639</span> <span class="mf">12.92517007</span> <span class="mf">14.96598639</span> <span class="mf">20.40816327</span> <span class="mf">15.6462585</span>  <span class="mf">21.08843537</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">11.56069364</span> <span class="mf">21.96531792</span> <span class="mf">17.34104046</span> <span class="mf">10.98265896</span> <span class="mf">18.49710983</span> <span class="mf">19.65317919</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">10.98265896</span> <span class="mf">17.34104046</span> <span class="mf">22.5433526</span>  <span class="mf">16.76300578</span> <span class="mf">18.49710983</span> <span class="mf">13.87283237</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">16.44736842</span> <span class="mf">11.18421053</span> <span class="mf">17.76315789</span> <span class="mf">17.10526316</span> <span class="mf">18.42105263</span> <span class="mf">19.07894737</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">11.47540984</span> <span class="mf">18.57923497</span> <span class="mf">14.75409836</span> <span class="mf">16.93989071</span> <span class="mf">19.12568306</span> <span class="mf">19.12568306</span><span class="p">]]</span>
<span class="p">[</span><span class="mi">144</span> <span class="mi">176</span> <span class="mi">173</span> <span class="mi">156</span> <span class="mi">174</span> <span class="mi">177</span><span class="p">]</span>
<span class="p">[</span><span class="mi">172</span> <span class="mi">147</span> <span class="mi">173</span> <span class="mi">173</span> <span class="mi">152</span> <span class="mi">183</span><span class="p">]</span>
<span class="p">[</span><span class="mi">37</span> <span class="mi">19</span> <span class="mi">30</span> <span class="mi">29</span> <span class="mi">28</span> <span class="mi">35</span><span class="p">]</span></code></pre></figure>

<p>নিম্নের ফর্মুলা গুলো দিয়ে <strong>precision</strong>, <strong>recall</strong> এবং <strong>accuracy</strong> পার্সেন্টেজ হিসাব করি:</p>

<p><img src="https://render.githubusercontent.com/render/math?math=\LARGE precision=\frac{t_p}{t_p %2B f_p}" /></p>

<p><img src="https://render.githubusercontent.com/render/math?math=\LARGE recall=\frac{t_p}{t_p %2B f_n}" /></p>

<p><img src="https://render.githubusercontent.com/render/math?math=\LARGE accuracy=\frac{t_p %2B t_n}{t_p %2B t_n %2B f_p %2B f_n}" /></p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">accuracy</span> <span class="o">=</span> <span class="n">total_true_pos</span><span class="p">.</span><span class="nb">sum</span><span class="p">()</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">y_true</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
<span class="n">precision</span> <span class="o">=</span> <span class="n">total_true_pos</span> <span class="o">/</span> <span class="n">col_wise_sum</span> <span class="o">*</span> <span class="mi">100</span>
<span class="n">recall</span> <span class="o">=</span> <span class="n">total_true_pos</span> <span class="o">/</span> <span class="n">row_wise_sum</span> <span class="o">*</span> <span class="mi">100</span>
<span class="k">print</span><span class="p">(</span><span class="n">accuracy</span><span class="p">,</span> <span class="n">precision</span><span class="p">,</span> <span class="n">recall</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span></code></pre></figure>

<p>আউটপুট:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="mf">17.8</span>
<span class="p">[</span><span class="mf">21.51162791</span> <span class="mf">12.92517007</span> <span class="mf">17.34104046</span> <span class="mf">16.76300578</span> <span class="mf">18.42105263</span> <span class="mf">19.12568306</span><span class="p">]</span>
<span class="p">[</span><span class="mf">25.69444444</span> <span class="mf">10.79545455</span> <span class="mf">17.34104046</span> <span class="mf">18.58974359</span> <span class="mf">16.09195402</span> <span class="mf">19.7740113</span> <span class="p">]</span></code></pre></figure>

<h4 id="annotation-তৈরি-করা">Annotation তৈরি করা</h4>
<p>কনফিউশন ম্যাট্রিক্সের মতো সাইজের একটি <code class="language-plaintext highlighter-rouge">numpy.ndarray</code> নিতে হবে:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">annotation</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">empty_like</span><span class="p">(</span><span class="n">c_m</span><span class="p">).</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="n">rows</span><span class="p">,</span> <span class="n">cols</span> <span class="o">=</span> <span class="n">c_m</span><span class="p">.</span><span class="n">shape</span>
<span class="k">print</span><span class="p">(</span><span class="n">rows</span><span class="p">,</span> <span class="n">cols</span><span class="p">)</span></code></pre></figure>

<p>আউটপুট:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="mi">6</span> <span class="mi">6</span></code></pre></figure>

<p>খালি annotation ম্যাট্রিক্সটি <code class="language-plaintext highlighter-rouge">prediction_rate</code> এবং <code class="language-plaintext highlighter-rouge">c_m</code> এর ভ্যালু দিয়ে পূর্ণ করি:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">rows</span><span class="p">):</span>
  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cols</span><span class="p">):</span>
      <span class="n">count</span> <span class="o">=</span> <span class="n">c_m</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span>
      <span class="n">pre</span> <span class="o">=</span> <span class="n">prediction_rate</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span>
      <span class="n">annotation</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="s">'%d</span><span class="se">\n</span><span class="s">%.1f%%'</span> <span class="o">%</span> <span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="n">pre</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">annotation</span><span class="p">)</span></code></pre></figure>

<p>আউটপুট:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="p">[[</span><span class="s">'37</span><span class="se">\n</span><span class="s">21.5%'</span> <span class="s">'38</span><span class="se">\n</span><span class="s">22.1%'</span> <span class="s">'28</span><span class="se">\n</span><span class="s">16.3%'</span> <span class="s">'21</span><span class="se">\n</span><span class="s">12.2%'</span> <span class="s">'24</span><span class="se">\n</span><span class="s">14.0%'</span> <span class="s">'24</span><span class="se">\n</span><span class="s">14.0%'</span><span class="p">]</span>
 <span class="p">[</span><span class="s">'22</span><span class="se">\n</span><span class="s">15.0%'</span> <span class="s">'19</span><span class="se">\n</span><span class="s">12.9%'</span> <span class="s">'22</span><span class="se">\n</span><span class="s">15.0%'</span> <span class="s">'30</span><span class="se">\n</span><span class="s">20.4%'</span> <span class="s">'23</span><span class="se">\n</span><span class="s">15.6%'</span> <span class="s">'31</span><span class="se">\n</span><span class="s">21.1%'</span><span class="p">]</span>
 <span class="p">[</span><span class="s">'20</span><span class="se">\n</span><span class="s">11.6%'</span> <span class="s">'38</span><span class="se">\n</span><span class="s">22.0%'</span> <span class="s">'30</span><span class="se">\n</span><span class="s">17.3%'</span> <span class="s">'19</span><span class="se">\n</span><span class="s">11.0%'</span> <span class="s">'32</span><span class="se">\n</span><span class="s">18.5%'</span> <span class="s">'34</span><span class="se">\n</span><span class="s">19.7%'</span><span class="p">]</span>
 <span class="p">[</span><span class="s">'19</span><span class="se">\n</span><span class="s">11.0%'</span> <span class="s">'30</span><span class="se">\n</span><span class="s">17.3%'</span> <span class="s">'39</span><span class="se">\n</span><span class="s">22.5%'</span> <span class="s">'29</span><span class="se">\n</span><span class="s">16.8%'</span> <span class="s">'32</span><span class="se">\n</span><span class="s">18.5%'</span> <span class="s">'24</span><span class="se">\n</span><span class="s">13.9%'</span><span class="p">]</span>
 <span class="p">[</span><span class="s">'25</span><span class="se">\n</span><span class="s">16.4%'</span> <span class="s">'17</span><span class="se">\n</span><span class="s">11.2%'</span> <span class="s">'27</span><span class="se">\n</span><span class="s">17.8%'</span> <span class="s">'26</span><span class="se">\n</span><span class="s">17.1%'</span> <span class="s">'28</span><span class="se">\n</span><span class="s">18.4%'</span> <span class="s">'29</span><span class="se">\n</span><span class="s">19.1%'</span><span class="p">]</span>
 <span class="p">[</span><span class="s">'21</span><span class="se">\n</span><span class="s">11.5%'</span> <span class="s">'34</span><span class="se">\n</span><span class="s">18.6%'</span> <span class="s">'27</span><span class="se">\n</span><span class="s">14.8%'</span> <span class="s">'31</span><span class="se">\n</span><span class="s">16.9%'</span> <span class="s">'35</span><span class="se">\n</span><span class="s">19.1%'</span> <span class="s">'35</span><span class="se">\n</span><span class="s">19.1%'</span><span class="p">]]</span></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">precision</code> ও <code class="language-plaintext highlighter-rouge">col_wise_sum</code> অ্যারে তে যথাক্রমে accuracy এবং <strong>true_positive</strong> এর মোট সংখ্যা append করতে হবে যাতে পরবর্তীতে DataFrame তৈরি করতে সুবিধা হয়-</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">col_wise_sum</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">col_wise_sum</span><span class="p">,</span> <span class="n">total_true_pos</span><span class="p">.</span><span class="nb">sum</span><span class="p">())</span>
<span class="n">precision</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">precision</span><span class="p">,</span> <span class="n">accuracy</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">col_wise_sum</span><span class="p">,</span> <span class="n">precision</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span></code></pre></figure>

<p>আউটপুট:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="p">[</span><span class="mi">172</span> <span class="mi">147</span> <span class="mi">173</span> <span class="mi">173</span> <span class="mi">152</span> <span class="mi">183</span> <span class="mi">178</span><span class="p">]</span>
<span class="p">[</span><span class="mf">21.51162791</span> <span class="mf">12.92517007</span> <span class="mf">17.34104046</span> <span class="mf">16.76300578</span> <span class="mf">18.42105263</span> <span class="mf">19.12568306</span> <span class="mf">17.8</span><span class="p">]</span></code></pre></figure>

<p><strong>recall</strong> এবং <strong>precision</strong> উভয়ের জন্য annotation তৈরি করতে এর tuple<code class="language-plaintext highlighter-rouge">(total_num, percentage)</code> তৈরি করি</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">recall</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">([[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">row_wise_sum</span><span class="p">,</span> <span class="n">recall</span><span class="p">)])</span>
<span class="n">precision</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">([[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">col_wise_sum</span><span class="p">,</span> <span class="n">precision</span><span class="p">)])</span>
<span class="k">print</span><span class="p">(</span><span class="n">recall</span><span class="p">,</span> <span class="n">precision</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span></code></pre></figure>

<p>আউটপুট:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="p">[[</span><span class="mf">144.</span>          <span class="mf">25.69444444</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">176.</span>          <span class="mf">10.79545455</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">173.</span>          <span class="mf">17.34104046</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">156.</span>          <span class="mf">18.58974359</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">174.</span>          <span class="mf">16.09195402</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">177.</span>          <span class="mf">19.7740113</span> <span class="p">]]</span>
<span class="p">[[</span><span class="mf">172.</span>          <span class="mf">21.51162791</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">147.</span>          <span class="mf">12.92517007</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">173.</span>          <span class="mf">17.34104046</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">173.</span>          <span class="mf">16.76300578</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">152.</span>          <span class="mf">18.42105263</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">183.</span>          <span class="mf">19.12568306</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">178.</span>          <span class="mf">17.8</span>       <span class="p">]]</span></code></pre></figure>

<p>নতুন তৈরি করা annotation <em>(from <strong>recall</strong>)</em> পূর্বের annotation এর সাথে যুক্ত করতে হবে।</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">annotation</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">annotation</span><span class="p">,</span> <span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="s">'%d</span><span class="se">\n</span><span class="s">%.1f%%'</span> <span class="o">%</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">recall</span><span class="p">))]),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">annotation</span><span class="p">)</span></code></pre></figure>

<p>আউটপুট:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="p">[[</span><span class="s">'37</span><span class="se">\n</span><span class="s">21.5%'</span> <span class="s">'38</span><span class="se">\n</span><span class="s">22.1%'</span> <span class="s">'28</span><span class="se">\n</span><span class="s">16.3%'</span> <span class="s">'21</span><span class="se">\n</span><span class="s">12.2%'</span> <span class="s">'24</span><span class="se">\n</span><span class="s">14.0%'</span> <span class="s">'24</span><span class="se">\n</span><span class="s">14.0%'</span><span class="p">]</span>
 <span class="p">[</span><span class="s">'22</span><span class="se">\n</span><span class="s">15.0%'</span> <span class="s">'19</span><span class="se">\n</span><span class="s">12.9%'</span> <span class="s">'22</span><span class="se">\n</span><span class="s">15.0%'</span> <span class="s">'30</span><span class="se">\n</span><span class="s">20.4%'</span> <span class="s">'23</span><span class="se">\n</span><span class="s">15.6%'</span> <span class="s">'31</span><span class="se">\n</span><span class="s">21.1%'</span><span class="p">]</span>
 <span class="p">[</span><span class="s">'20</span><span class="se">\n</span><span class="s">11.6%'</span> <span class="s">'38</span><span class="se">\n</span><span class="s">22.0%'</span> <span class="s">'30</span><span class="se">\n</span><span class="s">17.3%'</span> <span class="s">'19</span><span class="se">\n</span><span class="s">11.0%'</span> <span class="s">'32</span><span class="se">\n</span><span class="s">18.5%'</span> <span class="s">'34</span><span class="se">\n</span><span class="s">19.7%'</span><span class="p">]</span>
 <span class="p">[</span><span class="s">'19</span><span class="se">\n</span><span class="s">11.0%'</span> <span class="s">'30</span><span class="se">\n</span><span class="s">17.3%'</span> <span class="s">'39</span><span class="se">\n</span><span class="s">22.5%'</span> <span class="s">'29</span><span class="se">\n</span><span class="s">16.8%'</span> <span class="s">'32</span><span class="se">\n</span><span class="s">18.5%'</span> <span class="s">'24</span><span class="se">\n</span><span class="s">13.9%'</span><span class="p">]</span>
 <span class="p">[</span><span class="s">'25</span><span class="se">\n</span><span class="s">16.4%'</span> <span class="s">'17</span><span class="se">\n</span><span class="s">11.2%'</span> <span class="s">'27</span><span class="se">\n</span><span class="s">17.8%'</span> <span class="s">'26</span><span class="se">\n</span><span class="s">17.1%'</span> <span class="s">'28</span><span class="se">\n</span><span class="s">18.4%'</span> <span class="s">'29</span><span class="se">\n</span><span class="s">19.1%'</span><span class="p">]</span>
 <span class="p">[</span><span class="s">'21</span><span class="se">\n</span><span class="s">11.5%'</span> <span class="s">'34</span><span class="se">\n</span><span class="s">18.6%'</span> <span class="s">'27</span><span class="se">\n</span><span class="s">14.8%'</span> <span class="s">'31</span><span class="se">\n</span><span class="s">16.9%'</span> <span class="s">'35</span><span class="se">\n</span><span class="s">19.1%'</span> <span class="s">'35</span><span class="se">\n</span><span class="s">19.1%'</span><span class="p">]</span>
 <span class="p">[</span><span class="s">'144</span><span class="se">\n</span><span class="s">25.7%'</span> <span class="s">'176</span><span class="se">\n</span><span class="s">10.8%'</span> <span class="s">'173</span><span class="se">\n</span><span class="s">17.3%'</span> <span class="s">'156</span><span class="se">\n</span><span class="s">18.6%'</span> <span class="s">'174</span><span class="se">\n</span><span class="s">16.1%'</span>
  <span class="s">'177</span><span class="se">\n</span><span class="s">19.8%'</span><span class="p">]]</span></code></pre></figure>

<p>নতুন তৈরি করা annotation <em>(from <strong>precision</strong>)</em> পূর্বের annotation এর সাথে যুক্ত করতে হবে।</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">annotation</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">annotation</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">([</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="s">'%d</span><span class="se">\n</span><span class="s">%.1f%%'</span> <span class="o">%</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">precision</span><span class="p">))]).</span><span class="n">T</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">annotation</span><span class="p">)</span></code></pre></figure>

<p>আউটপুট:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="p">[[</span><span class="s">'37</span><span class="se">\n</span><span class="s">21.5%'</span> <span class="s">'38</span><span class="se">\n</span><span class="s">22.1%'</span> <span class="s">'28</span><span class="se">\n</span><span class="s">16.3%'</span> <span class="s">'21</span><span class="se">\n</span><span class="s">12.2%'</span> <span class="s">'24</span><span class="se">\n</span><span class="s">14.0%'</span> <span class="s">'24</span><span class="se">\n</span><span class="s">14.0%'</span>
  <span class="s">'172</span><span class="se">\n</span><span class="s">21.5%'</span><span class="p">]</span>
 <span class="p">[</span><span class="s">'22</span><span class="se">\n</span><span class="s">15.0%'</span> <span class="s">'19</span><span class="se">\n</span><span class="s">12.9%'</span> <span class="s">'22</span><span class="se">\n</span><span class="s">15.0%'</span> <span class="s">'30</span><span class="se">\n</span><span class="s">20.4%'</span> <span class="s">'23</span><span class="se">\n</span><span class="s">15.6%'</span> <span class="s">'31</span><span class="se">\n</span><span class="s">21.1%'</span>
  <span class="s">'147</span><span class="se">\n</span><span class="s">12.9%'</span><span class="p">]</span>
 <span class="p">[</span><span class="s">'20</span><span class="se">\n</span><span class="s">11.6%'</span> <span class="s">'38</span><span class="se">\n</span><span class="s">22.0%'</span> <span class="s">'30</span><span class="se">\n</span><span class="s">17.3%'</span> <span class="s">'19</span><span class="se">\n</span><span class="s">11.0%'</span> <span class="s">'32</span><span class="se">\n</span><span class="s">18.5%'</span> <span class="s">'34</span><span class="se">\n</span><span class="s">19.7%'</span>
  <span class="s">'173</span><span class="se">\n</span><span class="s">17.3%'</span><span class="p">]</span>
 <span class="p">[</span><span class="s">'19</span><span class="se">\n</span><span class="s">11.0%'</span> <span class="s">'30</span><span class="se">\n</span><span class="s">17.3%'</span> <span class="s">'39</span><span class="se">\n</span><span class="s">22.5%'</span> <span class="s">'29</span><span class="se">\n</span><span class="s">16.8%'</span> <span class="s">'32</span><span class="se">\n</span><span class="s">18.5%'</span> <span class="s">'24</span><span class="se">\n</span><span class="s">13.9%'</span>
  <span class="s">'173</span><span class="se">\n</span><span class="s">16.8%'</span><span class="p">]</span>
 <span class="p">[</span><span class="s">'25</span><span class="se">\n</span><span class="s">16.4%'</span> <span class="s">'17</span><span class="se">\n</span><span class="s">11.2%'</span> <span class="s">'27</span><span class="se">\n</span><span class="s">17.8%'</span> <span class="s">'26</span><span class="se">\n</span><span class="s">17.1%'</span> <span class="s">'28</span><span class="se">\n</span><span class="s">18.4%'</span> <span class="s">'29</span><span class="se">\n</span><span class="s">19.1%'</span>
  <span class="s">'152</span><span class="se">\n</span><span class="s">18.4%'</span><span class="p">]</span>
 <span class="p">[</span><span class="s">'21</span><span class="se">\n</span><span class="s">11.5%'</span> <span class="s">'34</span><span class="se">\n</span><span class="s">18.6%'</span> <span class="s">'27</span><span class="se">\n</span><span class="s">14.8%'</span> <span class="s">'31</span><span class="se">\n</span><span class="s">16.9%'</span> <span class="s">'35</span><span class="se">\n</span><span class="s">19.1%'</span> <span class="s">'35</span><span class="se">\n</span><span class="s">19.1%'</span>
  <span class="s">'183</span><span class="se">\n</span><span class="s">19.1%'</span><span class="p">]</span>
 <span class="p">[</span><span class="s">'144</span><span class="se">\n</span><span class="s">25.7%'</span> <span class="s">'176</span><span class="se">\n</span><span class="s">10.8%'</span> <span class="s">'173</span><span class="se">\n</span><span class="s">17.3%'</span> <span class="s">'156</span><span class="se">\n</span><span class="s">18.6%'</span> <span class="s">'174</span><span class="se">\n</span><span class="s">16.1%'</span>
  <span class="s">'177</span><span class="se">\n</span><span class="s">19.8%'</span> <span class="s">'178</span><span class="se">\n</span><span class="s">17.8%'</span><span class="p">]]</span></code></pre></figure>

<p>পূর্বেই আমি একটি অতিরিক্ত সারি এবং কলাম যুক্ত করেছি, এজন্য আমাদের আরেকটা লেবেল যুক্ত করতে হবে। যেমনঃ <code class="language-plaintext highlighter-rouge">precision_recall_accuracy</code></p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">labels</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">'precision_recall_accuracy'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span></code></pre></figure>

<p>আউটপুট:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="p">[</span><span class="s">'Potato__Early_blight'</span><span class="p">,</span> <span class="s">'Potato__Late_blight'</span><span class="p">,</span> <span class="s">'Potato__healthy'</span><span class="p">,</span> <span class="s">'Tomato__Early_blight'</span><span class="p">,</span> <span class="s">'Tomato__Late_blight'</span><span class="p">,</span> <span class="s">'Tomato__healthy'</span><span class="p">,</span> <span class="s">'precision_recall_accuracy'</span><span class="p">]</span></code></pre></figure>

<h4 id="কাস্টমাইজড-কনফিউশন-ম্যাট্রিক্স-তৈরি-করা">কাস্টমাইজড কনফিউশন ম্যাট্রিক্স তৈরি করা</h4>
<p>সারি ও কলামে যথাক্রমে <strong>precision</strong> এবং <strong>recall</strong> যোগ করার জন্য পূর্বের তৈরি কনফিউশন ম্যাট্রিক্সের কাঠামোতে পরিবর্তন করতে হবে। সেজন্য আমি এখানে <code class="language-plaintext highlighter-rouge">c_m</code> ম্যাট্রিক্সের <strong>recall</strong> ও <strong>precision</strong> এর মোট সংখ্যা থেকে একটি নতুন <code class="language-plaintext highlighter-rouge">c_m_1</code> ম্যাট্রিক্স তৈরি করেছি-</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">c_m_1</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">c_m</span><span class="p">,</span> <span class="p">[</span><span class="n">recall</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]]),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">c_m_1</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">c_m_1</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">([</span><span class="n">precision</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]]).</span><span class="n">T</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">c_m</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">c_m_1</span><span class="p">)</span></code></pre></figure>

<p>আউটপুট:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="p">[[</span><span class="mi">37</span> <span class="mi">38</span> <span class="mi">28</span> <span class="mi">21</span> <span class="mi">24</span> <span class="mi">24</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">22</span> <span class="mi">19</span> <span class="mi">22</span> <span class="mi">30</span> <span class="mi">23</span> <span class="mi">31</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">20</span> <span class="mi">38</span> <span class="mi">30</span> <span class="mi">19</span> <span class="mi">32</span> <span class="mi">34</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">19</span> <span class="mi">30</span> <span class="mi">39</span> <span class="mi">29</span> <span class="mi">32</span> <span class="mi">24</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">25</span> <span class="mi">17</span> <span class="mi">27</span> <span class="mi">26</span> <span class="mi">28</span> <span class="mi">29</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">21</span> <span class="mi">34</span> <span class="mi">27</span> <span class="mi">31</span> <span class="mi">35</span> <span class="mi">35</span><span class="p">]]</span>
<span class="p">[[</span> <span class="mf">37.</span>  <span class="mf">38.</span>  <span class="mf">28.</span>  <span class="mf">21.</span>  <span class="mf">24.</span>  <span class="mf">24.</span> <span class="mf">172.</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">22.</span>  <span class="mf">19.</span>  <span class="mf">22.</span>  <span class="mf">30.</span>  <span class="mf">23.</span>  <span class="mf">31.</span> <span class="mf">147.</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">20.</span>  <span class="mf">38.</span>  <span class="mf">30.</span>  <span class="mf">19.</span>  <span class="mf">32.</span>  <span class="mf">34.</span> <span class="mf">173.</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">19.</span>  <span class="mf">30.</span>  <span class="mf">39.</span>  <span class="mf">29.</span>  <span class="mf">32.</span>  <span class="mf">24.</span> <span class="mf">173.</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">25.</span>  <span class="mf">17.</span>  <span class="mf">27.</span>  <span class="mf">26.</span>  <span class="mf">28.</span>  <span class="mf">29.</span> <span class="mf">152.</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">21.</span>  <span class="mf">34.</span>  <span class="mf">27.</span>  <span class="mf">31.</span>  <span class="mf">35.</span>  <span class="mf">35.</span> <span class="mf">183.</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">144.</span> <span class="mf">176.</span> <span class="mf">173.</span> <span class="mf">156.</span> <span class="mf">174.</span> <span class="mf">177.</span> <span class="mf">178.</span><span class="p">]]</span></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">c_m_2</code> নামে আরেকটি ম্যাট্রিক্স তৈরি করতে হবে, যেখানে <code class="language-plaintext highlighter-rouge">prediction_rate</code> ম্যাট্রিক্স এর prediction rate এবং precision-recall এর পারসেন্টেজ থাকবে।</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">c_m_2</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">prediction_rate</span><span class="p">,</span> <span class="p">[</span><span class="n">recall</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]]),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">c_m_2</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">c_m_2</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">([</span><span class="n">precision</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]]).</span><span class="n">T</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">prediction_rate</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">c_m_2</span><span class="p">)</span></code></pre></figure>

<p>আউটপুট:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="p">[[</span><span class="mf">21.51162791</span> <span class="mf">22.09302326</span> <span class="mf">16.27906977</span> <span class="mf">12.20930233</span> <span class="mf">13.95348837</span> <span class="mf">13.95348837</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">14.96598639</span> <span class="mf">12.92517007</span> <span class="mf">14.96598639</span> <span class="mf">20.40816327</span> <span class="mf">15.6462585</span>  <span class="mf">21.08843537</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">11.56069364</span> <span class="mf">21.96531792</span> <span class="mf">17.34104046</span> <span class="mf">10.98265896</span> <span class="mf">18.49710983</span> <span class="mf">19.65317919</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">10.98265896</span> <span class="mf">17.34104046</span> <span class="mf">22.5433526</span>  <span class="mf">16.76300578</span> <span class="mf">18.49710983</span> <span class="mf">13.87283237</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">16.44736842</span> <span class="mf">11.18421053</span> <span class="mf">17.76315789</span> <span class="mf">17.10526316</span> <span class="mf">18.42105263</span> <span class="mf">19.07894737</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">11.47540984</span> <span class="mf">18.57923497</span> <span class="mf">14.75409836</span> <span class="mf">16.93989071</span> <span class="mf">19.12568306</span> <span class="mf">19.12568306</span><span class="p">]]</span>
<span class="p">[[</span><span class="mf">21.51162791</span> <span class="mf">22.09302326</span> <span class="mf">16.27906977</span> <span class="mf">12.20930233</span> <span class="mf">13.95348837</span> <span class="mf">13.95348837</span>
  <span class="mf">21.51162791</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">14.96598639</span> <span class="mf">12.92517007</span> <span class="mf">14.96598639</span> <span class="mf">20.40816327</span> <span class="mf">15.6462585</span>  <span class="mf">21.08843537</span>
  <span class="mf">12.92517007</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">11.56069364</span> <span class="mf">21.96531792</span> <span class="mf">17.34104046</span> <span class="mf">10.98265896</span> <span class="mf">18.49710983</span> <span class="mf">19.65317919</span>
  <span class="mf">17.34104046</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">10.98265896</span> <span class="mf">17.34104046</span> <span class="mf">22.5433526</span>  <span class="mf">16.76300578</span> <span class="mf">18.49710983</span> <span class="mf">13.87283237</span>
  <span class="mf">16.76300578</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">16.44736842</span> <span class="mf">11.18421053</span> <span class="mf">17.76315789</span> <span class="mf">17.10526316</span> <span class="mf">18.42105263</span> <span class="mf">19.07894737</span>
  <span class="mf">18.42105263</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">11.47540984</span> <span class="mf">18.57923497</span> <span class="mf">14.75409836</span> <span class="mf">16.93989071</span> <span class="mf">19.12568306</span> <span class="mf">19.12568306</span>
  <span class="mf">19.12568306</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">25.69444444</span> <span class="mf">10.79545455</span> <span class="mf">17.34104046</span> <span class="mf">18.58974359</span> <span class="mf">16.09195402</span> <span class="mf">19.7740113</span>
  <span class="mf">17.8</span>       <span class="p">]]</span></code></pre></figure>

<h4 id="dataframe-তৈরি-করা"><code class="language-plaintext highlighter-rouge">DataFrame</code> তৈরি করা</h4>
<p><code class="language-plaintext highlighter-rouge">c_m_1</code> এবং <code class="language-plaintext highlighter-rouge">c_m_2</code> উভয়ের জন্য <code class="language-plaintext highlighter-rouge">DataFrame</code> তৈরি করতে হবে এবং তাদের index বা কলামের নাম নিম্নের মতো করে ঠিক করি:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">c_m_1</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">c_m_1</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span>
<span class="n">c_m_1</span><span class="p">.</span><span class="n">index</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">'Output Class'</span>
<span class="n">c_m_1</span><span class="p">.</span><span class="n">columns</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">'Target Class'</span>

<span class="n">c_m_2</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">c_m_2</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span>
<span class="n">c_m_2</span><span class="p">.</span><span class="n">index</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">'Output Class'</span>
<span class="n">c_m_2</span><span class="p">.</span><span class="n">columns</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">'Target Class'</span>

<span class="n">c_m_1</span><span class="p">.</span><span class="n">info</span><span class="p">()</span></code></pre></figure>

<p>আউটপুট:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="o">&lt;</span><span class="k">class</span> <span class="err">'</span><span class="nc">pandas</span><span class="p">.</span><span class="n">core</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">DataFrame</span><span class="s">'&gt;
Index: 7 entries, Potato__Early_blight to precision_recall_accuracy
Data columns (total 7 columns):
 #   Column                     Non-Null Count  Dtype  
---  ------                     --------------  -----  
 0   Potato__Early_blight       7 non-null      float64
 1   Potato__Late_blight        7 non-null      float64
 2   Potato__healthy            7 non-null      float64
 3   Tomato__Early_blight       7 non-null      float64
 4   Tomato__Late_blight        7 non-null      float64
 5   Tomato__healthy            7 non-null      float64
 6   precision_recall_accuracy  7 non-null      float64
dtypes: float64(7)
memory usage: 448.0+ bytes</span></code></pre></figure>

<h4 id="হিটম্যাপ-দেখানো">হিটম্যাপ দেখানো</h4>
<p>ক্লাসের সংখ্যার উপর নির্ভর করে হিটম্যাপ-</p>

<p><em>color intensities varies yellow(low) to green(high)</em></p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">heatmap_1</span> <span class="o">=</span> <span class="n">sns</span><span class="p">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">c_m_1</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="n">annotation</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s">''</span><span class="p">,</span> <span class="n">cbar</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'YlGn'</span><span class="p">)</span>
<span class="n">heatmap_1</span><span class="p">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">heatmap_1</span><span class="p">.</span><span class="n">get_xticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">horizontalalignment</span><span class="o">=</span><span class="s">'right'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Confusion Matrix(number of classes)'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span></code></pre></figure>

<p>আউটপুট:
<img src="/assets/images/2021-07-01-How-to-make-a-custom-confusion-matrix-on-matplotlib-with-heatmap-and-annotation/2.png" alt="Confusion Matrix(number of classes)" title="Confusion Matrix(number of classes)" /></p>

<p>পারসেন্টেজের উপর নির্ভর করে হিটম্যাপ-</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">heatmap_2</span> <span class="o">=</span> <span class="n">sns</span><span class="p">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">c_m_2</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="n">annotation</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s">''</span><span class="p">,</span> <span class="n">cbar</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'YlGn'</span><span class="p">)</span>
<span class="n">heatmap_2</span><span class="p">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">heatmap_2</span><span class="p">.</span><span class="n">get_xticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">horizontalalignment</span><span class="o">=</span><span class="s">'right'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Confusion Matrix(percentages)'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span></code></pre></figure>

<p>আউটপুট:
<img src="/assets/images/2021-07-01-How-to-make-a-custom-confusion-matrix-on-matplotlib-with-heatmap-and-annotation/3.png" alt="Confusion Matrix(percentages)" title="Confusion Matrix(percentages)" /></p>

<p>আরও ভাল ভাবে দেখার জন্য কালার ম্যাপটি বাদ দেই:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">heatmap</span> <span class="o">=</span> <span class="n">sns</span><span class="p">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">c_m_2</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="n">annotation</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s">''</span><span class="p">,</span> <span class="n">cbar</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'YlGn'</span><span class="p">)</span>
<span class="n">heatmap</span><span class="p">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">heatmap</span><span class="p">.</span><span class="n">get_xticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">horizontalalignment</span><span class="o">=</span><span class="s">'right'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Confusion Matrix'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span></code></pre></figure>

<p>আউটপুট:
<img src="/assets/images/2021-07-01-How-to-make-a-custom-confusion-matrix-on-matplotlib-with-heatmap-and-annotation/1.png" alt="Confusion Matrix" title="Confusion Matrix" /></p>

<h4 id="ফলাফল-মূল্যায়ন-করা">ফলাফল মূল্যায়ন করা</h4>
<p>এখন আমরা <code class="language-plaintext highlighter-rouge">sklearn.metrics</code> মডিউল দিয়ে <strong>accuracy</strong>, <strong>precision</strong>, <strong>recall</strong> এবং <strong>support</strong> এর মান মূল্যায়ন করতে পারি:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">classification_report</span>
<span class="k">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">labels</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]))),</span> <span class="n">target_names</span><span class="o">=</span><span class="n">labels</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span></code></pre></figure>

<p>আউটপুট:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python">                      <span class="n">precision</span>    <span class="n">recall</span>  <span class="n">f1</span><span class="o">-</span><span class="n">score</span>   <span class="n">support</span>

<span class="n">Potato__Early_blight</span>       <span class="mf">0.26</span>      <span class="mf">0.22</span>      <span class="mf">0.23</span>       <span class="mi">172</span>
 <span class="n">Potato__Late_blight</span>       <span class="mf">0.11</span>      <span class="mf">0.13</span>      <span class="mf">0.12</span>       <span class="mi">147</span>
     <span class="n">Potato__healthy</span>       <span class="mf">0.17</span>      <span class="mf">0.17</span>      <span class="mf">0.17</span>       <span class="mi">173</span>
<span class="n">Tomato__Early_blight</span>       <span class="mf">0.19</span>      <span class="mf">0.17</span>      <span class="mf">0.18</span>       <span class="mi">173</span>
 <span class="n">Tomato__Late_blight</span>       <span class="mf">0.16</span>      <span class="mf">0.18</span>      <span class="mf">0.17</span>       <span class="mi">152</span>
     <span class="n">Tomato__healthy</span>       <span class="mf">0.20</span>      <span class="mf">0.19</span>      <span class="mf">0.19</span>       <span class="mi">183</span>

            <span class="n">accuracy</span>                           <span class="mf">0.18</span>      <span class="mi">1000</span>
           <span class="n">macro</span> <span class="n">avg</span>       <span class="mf">0.18</span>      <span class="mf">0.18</span>      <span class="mf">0.18</span>      <span class="mi">1000</span>
        <span class="n">weighted</span> <span class="n">avg</span>       <span class="mf">0.18</span>      <span class="mf">0.18</span>      <span class="mf">0.18</span>      <span class="mi">1000</span></code></pre></figure>

<p>আমাদের মানের সাথে Accuracy, Precision, Recall and Support এর মান মিলে যায়। সুতরাং আমদের ম্যাট্রিক্সটি সঠিক ভাবেই তৈরি করা হয়েছে।</p>

<p>পুরো কোডটি এখানে-
<script src="https://gist.github.com/rjarman/b2a5e00e65ba22554f2d1f4a07fc9532.js"></script></p>

<p>গিটহাব  রিপোজিটোরি এর <a href="https://github.com/rjarman/visualizations">লিঙ্ক</a>।</p>

</article>

      <!-- Tags -->
      <div class="mb-4">
        <span class="taglist">
          
          <a
            class="sscroll btn btn-light btn-sm caption-font-bn text-danger heap-btn-hov-tag-cap"
            href="/bn/tags#পাইথন"
            >@পাইথন</a
          >
          
          <a
            class="sscroll btn btn-light btn-sm caption-font-bn text-danger heap-btn-hov-tag-cap"
            href="/bn/tags#ম্যাটপ্লটলিব"
            >@ম্যাটপ্লটলিব</a
          >
          
          <a
            class="sscroll btn btn-light btn-sm caption-font-bn text-danger heap-btn-hov-tag-cap"
            href="/bn/tags#কনফিউশন ম্যাট্রিক্স"
            >@কনফিউশন ম্যাট্রিক্স</a
          >
          
          <a
            class="sscroll btn btn-light btn-sm caption-font-bn text-danger heap-btn-hov-tag-cap"
            href="/bn/tags#হিটম্যাপ"
            >@হিটম্যাপ</a
          >
          
        </span>
        <span class="taglist">
          
          <a
            class="sscroll btn btn-sm btn-light text-danger caption-font-bn heap-btn-hov-tag-cap"
            href="/bn/categories#মেশিন লার্নিং"
            >
            @মেশিন লার্নিং</a
          ><span class="sep"> </span>
          
        </span>
      </div>

          <!-- <p class="text-uppercase font-weight-bold">
            <span class="catlist">
              
              <a
                class="sscroll text-danger caption-font-bn"
                href="/bn/categories#মেশিন লার্নিং"
                >
                @মেশিন লার্নিং</a
              ><span class="sep"> </span>
              
            </span>
          </p> -->

      <!-- Mailchimp Subscribe Form -->
      

      <!-- Author Box -->
      
      <div class="row mt-5 author-box">
        <div class="col-md-2 align-self-center">
          
          <img
            class="rounded-circle"
            src="/assets/images/rafsun.png"
            alt="Rafsun Jany Arman"
            width="90"
          />
          
        </div>
        <div class="col-md-10 caption-font-en">
          <h5 class="font-weight-bold heading-font-en">
            Written by Rafsun Jany Arman <span
              ><a
                target="_blank"
                href="https://twitter.com/_rjarman"
                class="btn btn-outline-success btn-sm btn-round ml-2 caption-font-en"
                >Follow</a
              ></span
            >
          </h5>
          I'm a blogger experienced in programming, web development and IoT. As a DIY enthusiast, I want to learn more about new technologies such as Cloud Computing or Artificial Intelligence using machine learning or deep learning techniques for example. Currently, I'm working on projects based on these topics which are connected with Artificial Intelligence.
        </div>
      </div>
      

      <!-- Comments -->
       <!--  Don't edit anything here. Set your disqus id in _config.yml -->

<div id="comments" class="mt-5">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname = 'heaplinker';
    var disqus_developer = 0;
    (function () {
      var dsq = document.createElement('script');
      dsq.type = 'text/javascript';
      dsq.async = true;
      dsq.src =
        window.location.protocol +
        '//' +
        disqus_shortname +
        '.disqus.com/embed.js';
      (
        document.getElementsByTagName('head')[0] ||
        document.getElementsByTagName('body')[0]
      ).appendChild(dsq);
    })();
  </script>
  <noscript>
    Please enable JavaScript to view the
    <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
  </noscript>
</div>
 
    </div>
  </div>
</div>

<!-- Aletbar Prev/Next -->
<div class="alertbar">
  <div class="container">
    <div class="row prevnextlinks small font-weight-bold">
       
    </div>
  </div>
</div>

    </main>


    <!-- Scripts: popper, bootstrap, theme, lunr -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <script src="/assets/js/theme.js"></script>


    <!-- Footer -->
    <!-- <footer class="bg-white border-top p-3 text-muted small">
        <div class="container">
        <div class="row align-items-center justify-content-between">
            <div>
                <span class="navbar-brand mr-2 mb-0"><strong>Heaplinker</strong></span>
                <span>Copyright © <script>document.write(new Date().getFullYear())</script>.</span>

                

            </div>
            <div>
                <a class="text-dark ml-75rem" target="_blank" href="https://github.com/rjarman"><i class="fab fa-lg fa-github"></i></a>
                <a class="text-dark ml-75rem" target="_blank" href="https://www.linkedin.com/in/rafsun-jany-arman/"><i class="fab fa-lg fa-linkedin"></i></a>
                <a class="text-dark ml-75rem" target="_blank" href="https://www.facebook.com/rafsunjany.arman.1/"><i class="fab fa-lg fa-facebook"></i></a>
                <a class="text-dark ml-75rem" target="_blank" href="https://twitter.com/_rjarman"><i class="fab fa-lg fa-twitter"></i></a>
            </div>
        </div>
        </div>
    </footer> -->

    
    <footer>
    
        <div>&copy; 2021 - Heaplinker all rights reserved <a href="/privacy-policy">privacy-policy</a></div>
        <div>
            <a href="https://github.com/heaplinker" target="_blank">
                <svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="#707070" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
            </a>
            <a href="https://discord.gg/faGt2AgDXj" target="_blank">
                <svg width="71" height="55" viewBox="0 0 71 55" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0)">
                    <path d="M60.1045 4.8978C55.5792 2.8214 50.7265 1.2916 45.6527 0.41542C45.5603 0.39851 45.468 0.440769 45.4204 0.525289C44.7963 1.6353 44.105 3.0834 43.6209 4.2216C38.1637 3.4046 32.7345 3.4046 27.3892 4.2216C26.905 3.0581 26.1886 1.6353 25.5617 0.525289C25.5141 0.443589 25.4218 0.40133 25.3294 0.41542C20.2584 1.2888 15.4057 2.8186 10.8776 4.8978C10.8384 4.9147 10.8048 4.9429 10.7825 4.9795C1.57795 18.7309 -0.943561 32.1443 0.293408 45.3914C0.299005 45.4562 0.335386 45.5182 0.385761 45.5576C6.45866 50.0174 12.3413 52.7249 18.1147 54.5195C18.2071 54.5477 18.305 54.5139 18.3638 54.4378C19.7295 52.5728 20.9469 50.6063 21.9907 48.5383C22.0523 48.4172 21.9935 48.2735 21.8676 48.2256C19.9366 47.4931 18.0979 46.6 16.3292 45.5858C16.1893 45.5041 16.1781 45.304 16.3068 45.2082C16.679 44.9293 17.0513 44.6391 17.4067 44.3461C17.471 44.2926 17.5606 44.2813 17.6362 44.3151C29.2558 49.6202 41.8354 49.6202 53.3179 44.3151C53.3935 44.2785 53.4831 44.2898 53.5502 44.3433C53.9057 44.6363 54.2779 44.9293 54.6529 45.2082C54.7816 45.304 54.7732 45.5041 54.6333 45.5858C52.8646 46.6197 51.0259 47.4931 49.0921 48.2228C48.9662 48.2707 48.9102 48.4172 48.9718 48.5383C50.038 50.6034 51.2554 52.5699 52.5959 54.435C52.6519 54.5139 52.7526 54.5477 52.845 54.5195C58.6464 52.7249 64.529 50.0174 70.6019 45.5576C70.6551 45.5182 70.6887 45.459 70.6943 45.3942C72.1747 30.0791 68.2147 16.7757 60.1968 4.9823C60.1772 4.9429 60.1437 4.9147 60.1045 4.8978ZM23.7259 37.3253C20.2276 37.3253 17.3451 34.1136 17.3451 30.1693C17.3451 26.225 20.1717 23.0133 23.7259 23.0133C27.308 23.0133 30.1626 26.2532 30.1066 30.1693C30.1066 34.1136 27.28 37.3253 23.7259 37.3253ZM47.3178 37.3253C43.8196 37.3253 40.9371 34.1136 40.9371 30.1693C40.9371 26.225 43.7636 23.0133 47.3178 23.0133C50.9 23.0133 53.7545 26.2532 53.6986 30.1693C53.6986 34.1136 50.9 37.3253 47.3178 37.3253Z" fill="#707070"/>
                    </g>
                    <defs>
                    <clipPath id="clip0">
                    <rect width="71" height="55" fill="white"/>
                    </clipPath>
                    </defs>
                    </svg>
            </a>
            <a href="">
                <svg enable-background="new 0 0 48 48" id="Layer_1" version="1.1" viewBox="0 0 48 48" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><circle cx="24" cy="24" fill="#707070" r="24"/><g><g><path d="M36.8,15.4c-0.9,0.5-2,0.8-3,0.9c1.1-0.7,1.9-1.8,2.3-3.1c-1,0.6-2.1,1.1-3.4,1.4c-1-1.1-2.3-1.8-3.8-1.8    c-2.9,0-5.3,2.5-5.3,5.7c0,0.4,0,0.9,0.1,1.3c-4.4-0.2-8.3-2.5-10.9-5.9c-0.5,0.8-0.7,1.8-0.7,2.9c0,2,0.9,3.7,2.3,4.7    c-0.9,0-1.7-0.3-2.4-0.7c0,0,0,0.1,0,0.1c0,2.7,1.8,5,4.2,5.6c-0.4,0.1-0.9,0.2-1.4,0.2c-0.3,0-0.7,0-1-0.1    c0.7,2.3,2.6,3.9,4.9,3.9c-1.8,1.5-4.1,2.4-6.5,2.4c-0.4,0-0.8,0-1.3-0.1c2.3,1.6,5.1,2.6,8.1,2.6c9.7,0,15-8.6,15-16.1    c0-0.2,0-0.5,0-0.7C35.2,17.6,36.1,16.6,36.8,15.4z" fill="#071324"/></g></g></svg>
            </a>
            <a href="" target="_blank">
                <svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="instagram" class="svg-inline--fa fa-instagram fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="#707070" d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"></path></svg>
            </a>
            <a href="" target="_blank">
                <svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook" class="svg-inline--fa fa-facebook fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#707070" d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"></path></svg>
            </a>

            <!-- <a href="" target="_blank">
                <svg width="67" height="67" viewBox="0 0 67 67" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M50.837 48.137V36.425C50.837 30.15 47.487 27.23 43.021 27.23C39.417 27.23 37.802 29.213 36.902 30.604V27.71H30.112C30.202 29.627 30.112 48.137 30.112 48.137H36.902V36.729C36.902 36.12 36.946 35.51 37.126 35.074C37.616 33.854 38.733 32.591 40.608 32.591C43.066 32.591 44.048 34.464 44.048 37.209V48.138L50.837 48.137ZM22.959 24.922C25.326 24.922 26.801 23.352 26.801 21.391C26.757 19.388 25.326 17.863 23.004 17.863C20.682 17.863 19.163 19.387 19.163 21.391C19.163 23.352 20.637 24.922 22.916 24.922H22.959ZM34 64C17.432 64 4 50.568 4 34C4 17.431 17.432 4 34 4C50.568 4 64 17.431 64 34C64 50.568 50.568 64 34 64ZM26.354 48.137V27.71H19.565V48.137H26.354Z" fill="#707070"/>
                </svg>
            </a> -->
        </div>
    </footer>

    <!-- All this area goes before </body> closing tag -->


</body>

</html>
